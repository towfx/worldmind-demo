(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9718],{2708:(e,s,t)=>{"use strict";t.d(s,{$:()=>c,r:()=>l});var a=t(2432),r=t(80364),n=t(89932),o=t(46992),i=t(84963);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:o,asChild:c=!1,...d}=e,m=c?n.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(l({variant:r,size:o,className:t})),ref:s,...d})});c.displayName="Button"},4168:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(80364);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:s,...o,width:r,height:r,stroke:t,strokeWidth:l?24*Number(i)/Number(r):i,className:n("lucide",c),...u},[...m.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(d)?d:[d]])}),l=(e,s)=>{let t=(0,a.forwardRef)((t,o)=>{let{className:l,...c}=t;return(0,a.createElement)(i,{ref:o,iconNode:s,className:n("lucide-".concat(r(e)),l),...c})});return t.displayName="".concat(e),t}},7960:(e,s,t)=>{"use strict";t.d(s,{Tabs:()=>i,TabsList:()=>l,TabsTrigger:()=>c,a:()=>d});var a=t(2432),r=t(80364),n=t(47419),o=t(84963);let i=n.bL,l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.B8,{ref:s,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});l.displayName=n.B8.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.l9,{ref:s,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});c.displayName=n.l9.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.UC,{ref:s,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});d.displayName=n.UC.displayName},11386:(e,s,t)=>{"use strict";e.exports=t(72049)},13079:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4168).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},14251:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var a=t(2432),r=t(80364),n=t(92325),o=t(88524),i=t.n(o),l=t(77382),c=t(2708),d=t(39262),m=t(55009),u=t(56334),f=t(38452),g=t(40855),h=t(4329),x=t(67129),b=t(46155),p=t(82811),v=t(13079),y=t(32448),w=t(41823),N=t(16765),j=t(7960),k=t(92105),E=t(87759),C=t(82043),S=t(92187);t(70333);let A=(0,n.ye)(i());function T(){let{t:e}=(0,k.Bd)(),s=(0,d.useRouter)(),[t,o]=(0,r.useState)(n.Pp.MONTH),[T,_]=(0,r.useState)(new Date),[M,H]=(0,r.useState)([]),[D,R]=(0,r.useState)([]),[F,L]=(0,r.useState)([]),[O,P]=(0,r.useState)([]),[z,I]=(0,r.useState)([]),[B,W]=(0,r.useState)(!1),$=(0,r.useRef)(null),V=[{id:1,name:"John Doe",avatar:"avatar1.jpg"},{id:2,name:"Jane Smith",avatar:"avatar2.jpg"}],K=[{id:1,title:"Course 1"},{id:2,title:"Course 2"}];(0,r.useEffect)(()=>{(async()=>{try{console.log("Starting to fetch calendar data..."),console.log("Fetching class sessions...");let e=(await (0,S.mc)()).class_sessions;console.log("Class sessions fetched:",e),console.log("Mapping sessions to calendar events...");let s=e.map(e=>{var s,t,a,r,n,o,i,l;console.log("Processing session:",e);let c=(null===(t=e.package_class)||void 0===t?void 0:null===(s=t.course_package)||void 0===s?void 0:s.course)||{title:"Unknown Course"};console.log("Found course for session:",c);let d=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316"],m=d[((null===(n=e.package_class)||void 0===n?void 0:null===(r=n.course_package)||void 0===r?void 0:null===(a=r.course)||void 0===a?void 0:a.id)||e.id)%d.length],u=new Date(e.scheduled_at),f=new Date(u.getTime()+6e4*(e.duration||60));if(console.log("Parsed start date:",u),console.log("Parsed end date:",f),isNaN(u.getTime())||isNaN(f.getTime()))return console.error("Invalid date for session:",e),null;let g=e.online_meeting_link?"Online":e.offline_location||"Unknown Location";return{id:e.id,title:e.title||"Session ".concat(e.id),start:u,end:f,courseId:(null===(l=e.package_class)||void 0===l?void 0:null===(i=l.course_package)||void 0===i?void 0:null===(o=i.course)||void 0===o?void 0:o.id)||e.id,courseName:c.title,instructorId:e.instructor_id,instructorName:e.instructor_name,location:g,color:m,status:e.status}}).filter(e=>null!==e);console.log("Mapped events:",s),console.log("Mapping instructors...");let t=V.map(e=>({id:e.id,name:e.name,avatar:e.avatar,availability:Math.random()>.3?"available":"busy"}));console.log("Mapped instructors:",t),console.log("Mapping courses...");let a=K.map((e,s)=>{let t=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316"];return{id:e.id,name:e.title,color:t[s%t.length]}});console.log("Mapped courses:",a),H(s),R(t),L(a),console.log("Data fetching complete. Events set to:",s)}catch(e){console.error("Error fetching calendar data:",e)}})()},[]),(0,r.useEffect)(()=>{console.log("Events state updated:",M)},[M]);let U=M.filter(e=>{let s=0===O.length||O.includes(e.instructorId),t=0===z.length||z.includes(e.courseId);return s&&t});(0,r.useEffect)(()=>{console.log("Filtered events:",U)},[U]),(0,r.useEffect)(()=>{console.log("Adding calendar styles to document");let e=document.createElement("style");return e.innerHTML='\n  .calendar-container {\n    height: 100%;\n    font-family: Geist, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  }\n  \n  /* Header styling */\n  .rbc-header {\n    padding: 12px 3px;\n    font-weight: 600;\n    font-size: 0.875rem;\n    background-color: #f9fafb;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  \n  .rbc-time-header-content .rbc-header.rbc-today {\n    background-color: rgba(59, 130, 246, 0.1);\n    color: #2563eb;\n  }\n  \n  /* View containers */\n  .rbc-time-view, .rbc-month-view {\n    border-radius: 0.5rem;\n    border: 1px solid #e5e7eb;\n    overflow: hidden;\n  }\n  \n  /* Event styling */\n  .rbc-event {\n    border-radius: 4px;\n    border: none;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n    margin: 0px !important;\n    padding: 0px !important;\n  }\n  \n  .rbc-day-slot .rbc-event {\n    border-left: 4px solid rgba(0, 0, 0, 0.15);\n  }\n  \n  .rbc-event-label {\n    font-size: 0.75rem;\n    font-weight: 500;\n  }\n  \n  .rbc-event-content {\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n  }\n  \n  /* Time grid */\n  .rbc-time-content {\n    border-top: 1px solid #f0f0f0;\n  }\n  \n  .rbc-time-header-content {\n    border-left: 1px solid #f0f0f0;\n  }\n  \n  .rbc-timeslot-group {\n    border-bottom: 1px solid #f3f4f6;\n  }\n  \n  .rbc-time-slot {\n    font-size: 0.75rem;\n  }\n  \n  /* Today highlighting */\n  .rbc-today {\n    background-color: rgba(59, 130, 246, 0.05);\n  }\n  \n  /* Off-range days */\n  .rbc-off-range-bg {\n    background: #f9fafb;\n  }\n  \n  /* Toolbar buttons */\n  .rbc-toolbar button {\n    color: #374151;\n    border: 1px solid #e5e7eb;\n    border-radius: 0.375rem;\n    padding: 0.5rem 1rem;\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n    font-weight: 500;\n    transition: all 0.2s ease;\n  }\n  \n  .rbc-toolbar button:hover {\n    background-color: #f9fafb;\n    border-color: #d1d5db;\n  }\n  \n  .rbc-toolbar button.rbc-active {\n    background-color: #3b82f6;\n    color: white;\n    border-color: #3b82f6;\n  }\n  \n  .rbc-toolbar button.rbc-active:hover {\n    background-color: #2563eb;\n    border-color: #2563eb;\n  }\n  \n  /* Month view specific */\n  .rbc-month-view .rbc-date-cell {\n    padding: 4px 8px;\n    text-align: right;\n    font-size: 0.875rem;\n  }\n  \n  .rbc-month-view .rbc-date-cell.rbc-now {\n    font-weight: 600;\n    color: #2563eb;\n  }\n  \n  .rbc-row-segment {\n    padding: 2px 4px;\n  }\n  \n  /* Selection highlight */\n  .rbc-slot-selection {\n    background-color: rgba(59, 130, 246, 0.2);\n  }\n  \n  .rbc-selected-cell {\n    background-color: rgba(59, 130, 246, 0.1);\n  }\n  \n  /* Agenda view */\n  .rbc-agenda-view table {\n    border: 1px solid #e5e7eb;\n    border-radius: 0.5rem;\n    overflow: hidden;\n  }\n  \n  .rbc-agenda-view table thead {\n    background-color: #f9fafb;\n  }\n  \n  .rbc-agenda-view table th {\n    padding: 12px;\n    font-weight: 600;\n    font-size: 0.875rem;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  \n  .rbc-agenda-view table td {\n    padding: 12px;\n    border-bottom: 1px solid #f3f4f6;\n  }\n\n  .rbc-toolbar .rbc-btn-group {\n    display: none\n  }\n  \n  /* Responsive adjustments */\n  @media (max-width: 640px) {\n    .rbc-toolbar {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 0.5rem;\n    }\n    \n    .rbc-toolbar .rbc-toolbar-label {\n      margin: 0.5rem 0;\n    }\n  }\n',document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),(0,r.useEffect)(()=>{function e(e){$.current&&!$.current.contains(e.target)&&W(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[$]);let Y=M.filter(e=>new Date(e.start)>new Date).sort((e,s)=>new Date(e.start).getTime()-new Date(s.start).getTime()).slice(0,3);return console.log("Upcoming sessions:",Y),console.log("AdminCalendarPage rendering with view:",t,"date:",T,"events count:",M.length),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:e("admin.calendar.title","Calendar")}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e("admin.calendar.description","Manage all class sessions and instructor schedules")})]}),(0,a.jsxs)(c.$,{onClick:()=>s.push("/admin/sessions/new"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 transition-all",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),e("admin.calendar.addSession","Add Session")]})]}),(0,a.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-3 border-b",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.ZB,{className:"text-xl",children:e("admin.calendar.schedule","Schedule")}),(0,a.jsx)(l.BT,{className:"text-sm",children:i()(T).format("MMMM YYYY")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.$,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>_(i()(T).subtract(1,t===n.Pp.DAY?"day":t===n.Pp.WEEK?"week":"month").toDate()),"aria-label":"Previous",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>_(new Date),className:"h-9",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),e("admin.calendar.today","Today")]}),(0,a.jsx)(c.$,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>_(i()(T).add(1,t===n.Pp.DAY?"day":t===n.Pp.WEEK?"week":"month").toDate()),"aria-label":"Next",children:(0,a.jsx)(g.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between mb-4 gap-4",children:[(0,a.jsx)(j.Tabs,{defaultValue:n.Pp.MONTH,className:"w-full md:w-auto",onValueChange:e=>o(e),children:(0,a.jsxs)(j.TabsList,{children:[(0,a.jsxs)(j.TabsTrigger,{value:n.Pp.DAY,children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),e("admin.calendar.day","Day")]}),(0,a.jsxs)(j.TabsTrigger,{value:n.Pp.WEEK,children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),e("admin.calendar.week","Week")]}),(0,a.jsxs)(j.TabsTrigger,{value:n.Pp.MONTH,children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),e("admin.calendar.month","Month")]})]})}),(0,a.jsxs)("div",{className:"relative",ref:$,children:[(0,a.jsxs)(c.$,{variant:"outline",onClick:()=>W(!B),className:"flex items-center",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-2"}),e("admin.calendar.filter","Filter"),(z.length>0||O.length>0)&&(0,a.jsx)(N.E,{className:"ml-2 bg-primary text-white",variant:"secondary",children:z.length+O.length})]}),B&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-md shadow-lg z-10 border border-gray-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-3 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-medium",children:e("admin.calendar.filterByCourse","Filter by Course")}),z.length>0&&(0,a.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>I([]),children:e("admin.calendar.clear","Clear")})]}),(0,a.jsx)("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto pr-1",children:F.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(E.S,{id:"course-".concat(e.id),checked:z.includes(e.id),onCheckedChange:s=>{s?I(s=>[...s,e.id]):I(s=>s.filter(s=>s!==e.id))},className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),(0,a.jsxs)("label",{htmlFor:"course-".concat(e.id),className:"ml-2 text-sm text-gray-700 flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),e.name]})]},e.id))})]}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-medium",children:e("admin.calendar.filterByInstructor","Filter by Instructor")}),O.length>0&&(0,a.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>P([]),children:e("admin.calendar.clear","Clear")})]}),(0,a.jsx)("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto pr-1",children:D.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(E.S,{id:"instructor-".concat(e.id),checked:O.includes(e.id),onCheckedChange:s=>{s?P(s=>[...s,e.id]):P(s=>s.filter(s=>s!==e.id))},className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),(0,a.jsx)("label",{htmlFor:"instructor-".concat(e.id),className:"ml-2 text-sm text-gray-700",children:e.name})]},e.id))})]}),(0,a.jsxs)("div",{className:"p-3 border-t border-gray-200 flex justify-between",children:[(0,a.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{I([]),P([])},children:e("admin.calendar.clearFilters","Clear All")}),(0,a.jsx)(c.$,{size:"sm",onClick:()=>W(!1),children:e("admin.calendar.apply","Apply")})]})]})]})]}),(0,a.jsx)("div",{className:"h-[700px] bg-white rounded-md overflow-auto",children:0===M.length?(0,a.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(f.A,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:e("admin.calendar.noEvents","No events to display")}),(0,a.jsx)("p",{className:"text-sm mt-2",children:e("admin.calendar.addSessionPrompt","Add a session to get started")})]})}):(0,a.jsx)(n.Vv,{localizer:A,events:U,startAccessor:"start",endAccessor:"end",view:t,onView:e=>{console.log("View changed to:",e),o(e)},date:T,onNavigate:e=>{console.log("Date navigated to:",e),_(e)},selectable:!0,onSelectEvent:e=>{console.log("Event selected:",e),s.push("/admin/sessions/edit?id=".concat(e.id))},onSelectSlot:e=>{let{start:t,end:a}=e;console.log("Slot selected:",{start:t,end:a});let r=i()(t).format("YYYY-MM-DD"),n=i()(t).format("HH:mm"),o=i()(a).format("HH:mm");s.push("/admin/sessions/new?date=".concat(r,"&start=").concat(n,"&end=").concat(o))},components:{event:e=>{let{event:s}=e;return console.log("Rendering event:",s),(0,a.jsxs)("div",{className:"rounded px-2 py-1 text-white overflow-hidden text-sm transition-opacity hover:opacity-90",style:{backgroundColor:s.color},children:[(0,a.jsx)("div",{className:"font-medium truncate",children:s.title}),t!==n.Pp.MONTH&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-xs opacity-90 truncate",children:s.instructorName}),(0,a.jsx)("div",{className:"text-xs opacity-90 truncate",children:s.location})]})]})}},formats:{timeGutterFormat:(e,s,t)=>t.format(e,"HH:mm",s),dayFormat:(e,s,t)=>t.format(e,"ddd DD",s),dayHeaderFormat:(e,s,t)=>t.format(e,"dddd, MMMM D",s),dayRangeHeaderFormat:(e,s,t)=>{let{start:a,end:r}=e;return"".concat(t.format(a,"MMMM D",s)," - ").concat(t.format(r,"MMMM D",s))},eventTimeRangeFormat:(e,s,t)=>{let{start:a,end:r}=e;return"".concat(t.format(a,"HH:mm",s)," - ").concat(t.format(r,"HH:mm",s))},agendaDateFormat:(e,s,t)=>t.format(e,"ddd D",s),agendaTimeFormat:(e,s,t)=>t.format(e,"HH:mm",s),agendaTimeRangeFormat:(e,s,t)=>{let{start:a,end:r}=e;return"".concat(t.format(a,"HH:mm",s)," - ").concat(t.format(r,"HH:mm",s))}},className:"calendar-container"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)(l.Zp,{className:"col-span-1 shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"text-sm font-medium flex items-center",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2 text-gray-500"}),e("admin.calendar.legend","Legend")]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-2",children:F.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-sm",children:e.name})]},e.id))})})]}),(0,a.jsxs)(l.Zp,{className:"col-span-1 md:col-span-2 lg:col-span-2 shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"text-sm font-medium flex items-center",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2 text-gray-500"}),e("admin.calendar.upcomingSessions","Upcoming Sessions")]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:Y.length>0?Y.map(e=>(0,a.jsxs)("div",{className:"flex items-start p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>s.push("/admin/sessions/edit?id=".concat(e.id)),children:[(0,a.jsxs)("div",{className:"mr-3 text-center",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500",children:i()(e.start).format("MMM")}),(0,a.jsx)("div",{className:"text-xl font-bold",children:i()(e.start).format("DD")})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[i()(e.start).format("HH:mm")," - ",i()(e.end).format("HH:mm")]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.instructorName})]}),(0,a.jsx)(N.E,{style:{backgroundColor:e.color},className:"text-white",children:e.location.includes("Online")?"Online":"In-Person"})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,a.jsx)(f.A,{className:"h-12 w-12 mx-auto mb-2 opacity-20"}),(0,a.jsx)("p",{children:e("admin.calendar.noUpcomingSessions","No upcoming sessions")})]})})})]}),(0,a.jsxs)(l.Zp,{className:"col-span-1 md:col-span-2 shadow-sm",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"text-sm font-medium flex items-center",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 mr-2 text-gray-500"}),e("admin.calendar.instructorAvailability","Instructor Availability")]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:D.slice(0,4).map(s=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(C.eu,{className:"h-8 w-8 mr-2",children:(0,a.jsx)("div",{className:"bg-gray-200 h-full w-full flex items-center justify-center text-gray-700 font-medium",children:s.name.charAt(0)})}),(0,a.jsx)("span",{className:"text-sm font-medium",children:s.name})]}),(0,a.jsx)(N.E,{variant:"available"===s.availability?"success":"destructive",children:"available"===s.availability?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(y.A,{className:"h-3 w-3 mr-1"}),e("admin.calendar.available","Available")]}):(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(w.A,{className:"h-3 w-3 mr-1"}),e("admin.calendar.busy","Busy")]})})]},s.id))})})]})]})]})}},16765:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(2432);t(80364);var r=t(46992),n=t(84963);let o=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(o({variant:t}),s),...r})}},32448:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4168).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},41823:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4168).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},54580:(e,s,t)=>{"use strict";t.d(s,{H4:()=>k,_V:()=>j,bL:()=>N});var a=t(80364),r=t(66135),n=t(4835),o=t(61270),i=t(97856),l=t(11386);function c(){return()=>{}}var d=t(2432),m="Avatar",[u,f]=(0,r.A)(m),[g,h]=u(m),x=a.forwardRef((e,s)=>{let{__scopeAvatar:t,...r}=e,[n,o]=a.useState("idle");return(0,d.jsx)(g,{scope:t,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:(0,d.jsx)(i.sG.span,{...r,ref:s})})});x.displayName=m;var b="AvatarImage",p=a.forwardRef((e,s)=>{let{__scopeAvatar:t,src:r,onLoadingStatusChange:m=()=>{},...u}=e,f=h(b,t),g=function(e,s){let{referrerPolicy:t,crossOrigin:r}=s,n=(0,l.useSyncExternalStore)(c,()=>!0,()=>!1),i=a.useRef(null),d=n?(i.current||(i.current=new window.Image),i.current):null,[m,u]=a.useState(()=>w(d,e));return(0,o.N)(()=>{u(w(d,e))},[d,e]),(0,o.N)(()=>{let e=e=>()=>{u(e)};if(!d)return;let s=e("loaded"),a=e("error");return d.addEventListener("load",s),d.addEventListener("error",a),t&&(d.referrerPolicy=t),"string"==typeof r&&(d.crossOrigin=r),()=>{d.removeEventListener("load",s),d.removeEventListener("error",a)}},[d,r,t]),m}(r,u),x=(0,n.c)(e=>{m(e),f.onImageLoadingStatusChange(e)});return(0,o.N)(()=>{"idle"!==g&&x(g)},[g,x]),"loaded"===g?(0,d.jsx)(i.sG.img,{...u,ref:s,src:r}):null});p.displayName=b;var v="AvatarFallback",y=a.forwardRef((e,s)=>{let{__scopeAvatar:t,delayMs:r,...n}=e,o=h(v,t),[l,c]=a.useState(void 0===r);return a.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(e)}},[r]),l&&"loaded"!==o.imageLoadingStatus?(0,d.jsx)(i.sG.span,{...n,ref:s}):null});function w(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=v;var N=x,j=p,k=y},55009:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4168).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},64440:(e,s,t)=>{Promise.resolve().then(t.bind(t,14251))},72049:(e,s,t)=>{"use strict";var a=t(80364),r="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},n=a.useState,o=a.useEffect,i=a.useLayoutEffect,l=a.useDebugValue;function c(e){var s=e.getSnapshot;e=e.value;try{var t=s();return!r(e,t)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var t=s(),a=n({inst:{value:t,getSnapshot:s}}),r=a[0].inst,d=a[1];return i(function(){r.value=t,r.getSnapshot=s,c(r)&&d({inst:r})},[e,t,s]),o(function(){return c(r)&&d({inst:r}),e(function(){c(r)&&d({inst:r})})},[e]),l(t),t};s.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},77382:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>m});var a=t(2432),r=t(80364),n=t(84963);let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});o.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});l.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},82043:(e,s,t)=>{"use strict";t.d(s,{BK:()=>l,eu:()=>i,q5:()=>c});var a=t(2432),r=t(80364),n=t(54580),o=t(84963);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.bL,{ref:s,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});i.displayName=n.bL.displayName;let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n._V,{ref:s,className:(0,o.cn)("aspect-square h-full w-full",t),...r})});l.displayName=n._V.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.H4,{ref:s,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});c.displayName=n.H4.displayName},84963:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var a=t(12126),r=t(68441);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},87759:(e,s,t)=>{"use strict";t.d(s,{S:()=>l});var a=t(2432),r=t(80364),n=t(81109),o=t(33491),i=t(84963);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.bL,{ref:s,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,a.jsx)(n.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})})});l.displayName=n.bL.displayName},92187:(e,s,t)=>{"use strict";t.d(s,{WF:()=>n,fM:()=>i,h_:()=>l,mJ:()=>c,mc:()=>o,r1:()=>r,rq:()=>d});var a=t(15616);async function r(e){try{let s=await (0,a.Qi)("admin_page/getClassSessionAttendances/".concat(e),"GET");if("OK"===s.status&&s.class_session)return s.class_session;throw Error("Invalid response format or class session not found")}catch(e){throw console.error("Error fetching class session attendances:",e),e}}async function n(){try{let e=await (0,a.Qi)("admin_page/getOrders","GET");if("OK"===e.status&&e.orders)return e.orders;throw Error("Invalid response format or orders not found")}catch(e){throw console.error("Error fetching orders:",e),e}}async function o(){try{let e=await (0,a.Qi)("admin_page/getClassSessions","GET");if("OK"===e.status&&e.class_sessions)return{status:e.status,class_sessions:e.class_sessions};throw Error("Invalid response format or class sessions not found")}catch(e){throw console.error("Error fetching class sessions:",e),e}}async function i(e){try{console.log("[FETCH] getClassSessionData path:","admin_page/getClassSessionData/".concat(e));let s=await (0,a.Qi)("admin_page/getClassSessionData/".concat(e),"GET");if(console.log("[FETCH] getClassSessionData response:",s),"OK"===s.status&&s.session)return{status:s.status,session:s.session,course_packages:s.course_packages||[],course_package_classes:s.course_package_classes||[],courses:s.courses||[]};throw Error("Invalid response format or class session not found")}catch(e){throw console.error("Error fetching class session data:",e),e}}async function l(){try{let e=await (0,a.Qi)("admin_page/getUserSettings","GET");if("OK"===e.status&&e.user)return{status:e.status,user:e.user};throw Error("Invalid response format or user not found")}catch(e){throw console.error("Error fetching admin user settings:",e),e}}async function c(e){try{let s=await (0,a.Qi)("admin_page/updateUserSettings","POST",e);if("OK"===s.status)return{status:s.status,message:s.message||"Settings updated successfully"};throw Error("Failed to update user settings")}catch(e){throw console.error("Error updating admin user settings:",e),e}}async function d(e,s){try{let t="admin_page/setClassSessionAttendances/".concat(e),r={attendances:s.map(e=>({student_id:e}))};console.log("[FETCH] markAttendance path:",t),console.log("[FETCH] markAttendance body:",r);let n=await (0,a.Qi)(t,"POST",r);if(console.log("[FETCH] markAttendance response:",{status:n.status}),"OK"===n.status)return{status:n.status,message:n.message||"Attendance marked successfully"};throw Error("Failed to mark attendance")}catch(e){throw console.error("Error marking attendance:",e),e}}}},e=>{var s=s=>e(e.s=s);e.O(0,[1602,1769,8548,3438,5281,2105,7419,2677,5616,5022,5575,7358],()=>s(64440)),_N_E=e.O()}]);