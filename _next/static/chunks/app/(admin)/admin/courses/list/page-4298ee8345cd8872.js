(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{2708:(e,s,t)=>{"use strict";t.d(s,{$:()=>c,r:()=>l});var r=t(2432),a=t(80364),n=t(89932),o=t(46992),i=t(84963);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:o,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(l({variant:a,size:o,className:t})),ref:s,...d})});c.displayName="Button"},16765:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var r=t(2432);t(80364);var a=t(46992),n=t(84963);let o=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(o({variant:t}),s),...a})}},27814:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var r=t(2432),a=t(80364),n=t(32317),o=t.n(n),i=t(77709),l=t(55009),c=t(28725),d=t(46155),u=t(68057),m=t(36300),f=t(69392),p=t(83702),x=t(40686),h=t(86467),g=t(7254),y=t(73388),N=t(4314),j=t(2708),b=t(87304),v=t(77382),w=t(45033),C=t(16765),A=t(37800);function _(){let[e,s]=(0,a.useState)(""),[t,n]=(0,a.useState)([]),[_,k]=(0,a.useState)("title"),[D,R]=(0,a.useState)("asc"),[z,B]=(0,a.useState)([]),[E,I]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{I(!0);let e=await (0,A.NJ)();B(Array.isArray(e)?e:[])}catch(e){console.error("Error fetching courses:",e),B([])}finally{I(!1)}})()},[]);let F=z.filter(s=>s.title.toLowerCase().includes(e.toLowerCase())||s.description.toLowerCase().includes(e.toLowerCase())),S=[...F].sort((e,s)=>"title"===_?"asc"===D?e.title.localeCompare(s.title):s.title.localeCompare(e.title):"price"===_?"asc"===D?e.price-s.price:s.price-e.price:"date"===_?"asc"===D?new Date(e.created_at).getTime()-new Date(s.created_at).getTime():new Date(s.created_at).getTime()-new Date(e.created_at).getTime():0),P=e=>{_===e?R("asc"===D?"desc":"asc"):(k(e),R("asc"))},$=e=>{t.includes(e)?n(t.filter(s=>s!==e)):n([...t,e])},T=e=>{let s=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(s)};return E?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Loading courses..."})]})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold font-heading mb-2",children:"Courses"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage all courses on the platform"})]}),(0,r.jsx)(o(),{href:"/admin/courses/create",children:(0,r.jsxs)(j.$,{className:"bg-primary hover:bg-primary-dark",children:[(0,r.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Create Course"]})})]}),(0,r.jsx)(v.Zp,{className:"border-0 bg-white mb-6",children:(0,r.jsx)(v.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,r.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,r.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,r.jsx)(b.p,{placeholder:"Search courses...",className:"pl-10 bg-gray-50",value:e,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,r.jsxs)(j.$,{variant:"outline",className:"flex-1 md:flex-none",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Filter"]}),(0,r.jsxs)(j.$,{variant:"outline",className:"flex-1 md:flex-none",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})})}),t.length>0&&(0,r.jsxs)("div",{className:"bg-secondary-light rounded-lg p-4 mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m.A,{className:"h-5 w-5 text-secondary mr-2"}),(0,r.jsxs)("span",{className:"font-medium",children:[t.length," courses selected"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(j.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(0,r.jsxs)(j.$,{variant:"destructive",size:"sm",children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),(0,r.jsxs)(v.Zp,{className:"border-0 bg-white",children:[(0,r.jsxs)(v.aR,{className:"pb-0",children:[(0,r.jsx)(v.ZB,{className:"text-xl font-heading",children:"All Courses"}),(0,r.jsxs)(v.BT,{children:[F.length," courses found"]})]}),(0,r.jsxs)(v.Wu,{className:"p-6",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>{t.length===S.length?n([]):n(S.map(e=>e.id))},className:"mr-3 focus:outline-none",children:t.length===S.length&&S.length>0?(0,r.jsx)(m.A,{className:"h-5 w-5 text-secondary"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsxs)("button",{onClick:()=>P("title"),className:"flex items-center focus:outline-none",children:["Course",(0,r.jsx)(h.A,{className:"ml-1 h-4 w-4"})]})]})}),(0,r.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:"Packages"}),(0,r.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:(0,r.jsxs)("button",{onClick:()=>P("date"),className:"flex items-center justify-center mx-auto focus:outline-none",children:["Created",(0,r.jsx)(h.A,{className:"ml-1 h-4 w-4"})]})}),(0,r.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:S.map((e,s)=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 ".concat(s%2==0?"bg-gray-50":"bg-white"),children:[(0,r.jsx)("td",{className:"py-4 px-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>$(e.id),className:"mr-3 focus:outline-none",children:t.includes(e.id)?(0,r.jsx)(m.A,{className:"h-5 w-5 text-secondary"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"relative h-12 w-12 rounded-md overflow-hidden flex-shrink-0",children:(0,r.jsx)(i.default,{src:e.image||"/placeholder.svg",alt:e.title,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description})]})]})]})}),(0,r.jsx)("td",{className:"text-center py-4 px-4",children:(0,r.jsxs)(C.E,{className:"bg-primary-light text-secondary border-0",children:[Math.floor(5*Math.random())+1," packages"]})}),(0,r.jsx)("td",{className:"text-center py-4 px-4 text-gray-500",children:T(e.created_at)}),(0,r.jsx)("td",{className:"text-right py-4 px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)(j.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,r.jsx)(o(),{href:"/courses?id=".concat(e.id),children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})}),(0,r.jsx)(j.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,r.jsx)(o(),{href:"/admin/courses/edit?id=".concat(e.id),children:(0,r.jsx)(y.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(w.rI,{children:[(0,r.jsx)(w.ty,{asChild:!0,children:(0,r.jsx)(j.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(w.SQ,{align:"end",children:[(0,r.jsxs)(w._2,{children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(0,r.jsxs)(w._2,{className:"text-red-600",children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},e.id))})]})}),0===F.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-500",children:"No courses found matching your search criteria."}),(0,r.jsx)(j.$,{variant:"link",onClick:()=>s(""),className:"mt-2",children:"Clear search"})]})]})]})]})}},37800:(e,s,t)=>{"use strict";t.d(s,{Dz:()=>l,NJ:()=>n,SA:()=>i,YG:()=>o});var r=t(15616);let a="courses",n=async()=>{console.log("[api][getCourses] Fetching all courses");try{let e=await (0,r.P)(a);if(!Array.isArray(e))return console.error("[api][getCourses] Expected array but got:",typeof e,e),[];let s=e.map(e=>{if(e.features&&"string"==typeof e.features)try{e.features=JSON.parse(e.features)}catch(s){console.error("[api][getCourses] Error parsing features for course ".concat(e.id,":"),s),e.features=[]}return e.price&&"string"==typeof e.price&&(e.price=Number.parseFloat(e.price)),e});return console.log("[api][getCourses] Fetched and processed courses:",s.length),s}catch(e){return console.error("[api][getCourses] Error fetching courses:",e),[]}},o=async e=>{console.log("[api][getCourseById] Fetching course with id:",e);try{let s=await (0,r.P)("".concat(a,"/").concat(e));if(console.log("[api][getCourseById] Raw course data:",s),s.features&&"string"==typeof s.features)try{let e=JSON.parse(s.features);console.log("[api][getCourseById] Parsed features:",e),Array.isArray(e)?s.features=e:(console.warn("[api][getCourseById] Features is not an array after parsing:",e),s.features=[])}catch(t){console.error("[api][getCourseById] Error parsing features for course ".concat(e,":"),t),s.features=[]}else Array.isArray(s.features)||(console.warn("[api][getCourseById] Features is not a string or array:",typeof s.features,s.features),s.features=[]);if(s.audiences&&"string"==typeof s.audiences)try{let e=JSON.parse(s.audiences);console.log("[api][getCourseById] Parsed audiences:",e),Array.isArray(e)?s.audiences=e:(console.warn("[api][getCourseById] Features is not an array after parsing:",e),s.audiences=[])}catch(t){console.error("[api][getCourseById] Error parsing features for course ".concat(e,":"),t),s.audiences=[]}else Array.isArray(s.audiences)||(console.warn("[api][getCourseById] Audiences is not a string or array:",typeof s.audiences,s.audiences),s.audiences=[]);return s.price&&"string"==typeof s.price&&(s.price=Number.parseFloat(s.price)),console.log("[api][getCourseById] Processed course:",{id:s.id,title:s.title,features:Array.isArray(s.features)?"Array(".concat(s.features.length,")"):typeof s.features}),s}catch(s){throw console.error("[api][getCourseById] Error fetching course with ID ".concat(e,":"),s),s}},i=async e=>{console.log("[api][createCourseData] Creating complete course data:",e);try{let s=await (0,r.Em)("courses/createCourseData","POST",e);return console.log("[api][createCourseData] Created complete course data:",{id:s.id,title:s.title}),s}catch(e){throw console.error("[api][createCourseData] Error creating complete course data:",e),e}},l=async e=>{console.log("[api][updateCourseData] Updating complete course data:",e);try{let s=await (0,r.Em)("courses/updateCourseData","PUT",e);return console.log("[api][updateCourseData] Updated complete course data:",{id:s.id,title:s.title}),s}catch(e){throw console.error("[api][updateCourseData] Error updating complete course data:",e),e}}},45033:(e,s,t)=>{"use strict";t.d(s,{SQ:()=>m,_2:()=>f,mB:()=>p,rI:()=>d,ty:()=>u});var r=t(2432),a=t(80364),n=t(24895),o=t(40855),i=t(33491),l=t(52669),c=t(84963);let d=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,a.forwardRef((e,s)=>{let{className:t,inset:a,children:i,...l}=e;return(0,r.jsxs)(n.ZP,{ref:s,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...l,children:[i,(0,r.jsx)(o.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.G5,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}).displayName=n.G5.displayName;let m=a.forwardRef((e,s)=>{let{className:t,sideOffset:a=4,...o}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:s,sideOffset:a,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})})});m.displayName=n.UC.displayName;let f=a.forwardRef((e,s)=>{let{className:t,inset:a,...o}=e;return(0,r.jsx)(n.q7,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...o})});f.displayName=n.q7.displayName,a.forwardRef((e,s)=>{let{className:t,children:a,checked:o,...l}=e;return(0,r.jsxs)(n.H_,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:o,...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),a]})}).displayName=n.H_.displayName,a.forwardRef((e,s)=>{let{className:t,children:a,...o}=e;return(0,r.jsxs)(n.hN,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(l.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=n.hN.displayName,a.forwardRef((e,s)=>{let{className:t,inset:a,...o}=e;return(0,r.jsx)(n.JU,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...o})}).displayName=n.JU.displayName;let p=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...a})});p.displayName=n.wv.displayName},77382:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>u});var r=t(2432),a=t(80364),n=t(84963);let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},81688:(e,s,t)=>{Promise.resolve().then(t.bind(t,27814))},84963:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(12126),a=t(68441);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},87304:(e,s,t)=>{"use strict";t.d(s,{p:()=>o});var r=t(2432),a=t(80364),n=t(84963);let o=a.forwardRef((e,s)=>{let{className:t,type:a,...o}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...o})});o.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[3438,1288,5281,7709,2092,978,5421,4139,5616,5022,5575,7358],()=>s(81688)),_N_E=e.O()}]);