(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8413],{4314:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(4168).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},24194:(e,r,a)=>{Promise.resolve().then(a.bind(a,35329))},34110:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(4168).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},35329:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>g});var s=a(2432),t=a(80364),l=a(39262),i=a(92105),n=a(63844),d=a(67507),c=a(68057),o=a(34110),m=a(2708),u=a(77382),x=a(89932),h=(a(40855),a(4314),a(84963));let f=t.forwardRef((e,r)=>{let{...a}=e;return(0,s.jsx)("nav",{ref:r,"aria-label":"breadcrumb",...a})});f.displayName="Breadcrumb",t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("ol",{ref:r,className:(0,h.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",a),...t})}).displayName="BreadcrumbList";let p=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("li",{ref:r,className:(0,h.cn)("inline-flex items-center gap-1.5",a),...t})});p.displayName="BreadcrumbItem";let y=t.forwardRef((e,r)=>{let{asChild:a,className:t,...l}=e,i=a?x.DX:"a";return(0,s.jsx)(i,{ref:r,className:(0,h.cn)("transition-colors hover:text-foreground",t),...l})});y.displayName="BreadcrumbLink",t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,h.cn)("font-normal text-foreground",a),...t})}).displayName="BreadcrumbPage";var j=a(19838),N=a(72569),w=a(32317),v=a.n(w);function g(){let{t:e}=(0,i.Bd)(),r=(0,l.useSearchParams)(),a=r.get("id"),x=r.get("email"),[h,w]=(0,t.useState)(null),[g,k]=(0,t.useState)(!0),[b,R]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{if(!a||!x){R("Missing order ID or email"),k(!1);return}try{k(!0);let e=await (0,N.UY)(Number(a),x);console.log("[receipt] Order data:",e),w(e)}catch(e){console.error("Error fetching order:",e),R("Failed to load receipt. Please try again.")}finally{k(!1)}})()},[a,x]),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)(f,{children:[(0,s.jsx)(p,{children:(0,s.jsx)(y,{href:"/admin",children:"Admin"})}),(0,s.jsx)(p,{children:(0,s.jsx)(y,{href:"/admin/payments",children:"Payments"})}),(0,s.jsx)(p,{children:"Receipt"})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(m.$,{variant:"outline",size:"sm",className:"mr-2",asChild:!0,children:(0,s.jsxs)(v(),{href:"/admin/payments",children:[(0,s.jsx)(n.A,{className:"h-4 w-4 mr-1"}),"Back to Payments"]})}),(0,s.jsx)("h1",{className:"text-2xl font-bold font-heading",children:e("admin.receipt.title","Payment Receipt")})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>{window.print()},children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Print"]}),(0,s.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>{alert("Download functionality will be implemented soon")},children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-1"}),"Download"]}),(0,s.jsxs)(m.$,{variant:"outline",size:"sm",onClick:()=>{alert("Email will be sent to ".concat(x))},children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"Email"]})]})]}),g&&(0,s.jsx)(u.Zp,{className:"p-8 flex justify-center items-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),b&&(0,s.jsx)(u.Zp,{className:"p-8",children:(0,s.jsxs)("div",{className:"text-center text-red-500",children:[(0,s.jsx)("p",{className:"mb-4",children:b}),(0,s.jsx)(m.$,{onClick:()=>window.location.reload(),children:"Retry"})]})}),!g&&!b&&h&&(0,s.jsx)("div",{className:"print:shadow-none",children:(0,s.jsx)(j.y,{order:h})}),!g&&!b&&!h&&(0,s.jsx)(u.Zp,{className:"p-8",children:(0,s.jsx)("div",{className:"text-center text-gray-500",children:(0,s.jsx)("p",{children:"No receipt found for this order."})})})]})}},39262:(e,r,a)=>{"use strict";var s=a(66834);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(r,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},40855:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(4168).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},63844:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(4168).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},67507:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(4168).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},68057:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(4168).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},77382:(e,r,a)=>{"use strict";a.d(r,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>m});var s=a(2432),t=a(80364),l=a(84963);let i=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});i.displayName="Card";let n=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...t})});n.displayName="CardHeader";let d=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",a),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",a),...t})});o.displayName="CardContent";let m=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",a),...t})});m.displayName="CardFooter"}},e=>{var r=r=>e(e.s=r);e.O(0,[3438,1288,2105,5616,1999,5022,5575,7358],()=>r(24194)),_N_E=e.O()}]);