(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5285],{7886:(e,a,s)=>{"use strict";s.d(a,{Fc:()=>c,TN:()=>o,XL:()=>d});var r=s(2432),t=s(80364),l=s(46992),i=s(84963);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=t.forwardRef((e,a)=>{let{className:s,variant:t,...l}=e;return(0,r.jsx)("div",{ref:a,role:"alert",className:(0,i.cn)(n({variant:t}),s),...l})});c.displayName="Alert";let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("h5",{ref:a,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...t})});d.displayName="AlertTitle";let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...t})});o.displayName="AlertDescription"},27760:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>b});var r=s(2432),t=s(80364),l=s(39262),i=s(95470),n=s(63844),c=s(92260),d=s(94010),o=s(34110),m=s(88055),u=s(50530),h=s(6433),x=s(2708),p=s(87304),v=s(96446),j=s(77382),f=s(22438),g=s(7886),N=s(82890),y=s(40208);function b(){let e=(0,l.useRouter)(),a=(0,l.useSearchParams)(),{toast:s}=(0,y.dj)(),b=Number.parseInt(a.get("id")||"0"),[w,A]=(0,t.useState)(null),[F,k]=(0,t.useState)(!0),[E,C]=(0,t.useState)(!1),[S,I]=(0,t.useState)(null),[T,_]=(0,t.useState)({name:"",email:"",phone:"",summary:"",description:"",avatar:""});(0,t.useEffect)(()=>{(async()=>{try{k(!0),I(null);let e=await (0,N.g9)(b);e?(A(e),_({name:e.name||"",email:e.email||"",phone:e.phone||"",summary:e.summary||"",description:e.description||"",avatar:e.avatar||""})):I("Instructor not found")}catch(e){console.error("Failed to fetch instructor:",e),I("Failed to load instructor data")}finally{k(!1)}})()},[b]);let B=e=>{let{name:a,value:s}=e.target;_(e=>({...e,[a]:s}))},R=async a=>{if(a.preventDefault(),!T.name.trim()||!T.email.trim()){s({title:"Validation Error",description:"Name and email are required fields",variant:"destructive"});return}C(!0);try{await (0,N.Bl)(b,T),s({title:"Success",description:"Instructor updated successfully"}),setTimeout(()=>{e.push("/admin/instructors/".concat(b))},1e3)}catch(e){console.error("Failed to update instructor:",e),s({title:"Error",description:"Failed to update instructor. Please try again.",variant:"destructive"})}finally{C(!1)}};return F?(0,r.jsx)("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading instructor data..."})]})}):S||!w?(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)(g.Fc,{variant:"destructive",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)(g.XL,{children:"Error"}),(0,r.jsx)(g.TN,{children:S||"Instructor not found"})]}),(0,r.jsxs)(x.$,{className:"mt-4",variant:"outline",onClick:()=>e.push("/admin/instructors"),children:[(0,r.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Back to Instructors"]})]}):(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(x.$,{variant:"outline",size:"icon",onClick:()=>e.push("/admin/instructors/".concat(b)),children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Instructor"}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Update ",w.name,"'s profile information"]})]})]}),(0,r.jsx)(x.$,{onClick:R,disabled:E,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:E?(0,r.jsx)(r.Fragment,{children:"Saving..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]}),(0,r.jsx)(j.Zp,{className:"bg-blue-50 border-blue-200",children:(0,r.jsx)(j.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:w.avatar?(0,r.jsx)("img",{src:w.avatar||"/placeholder.svg",alt:w.name,className:"w-16 h-16 rounded-full object-cover"}):(0,r.jsx)(d.A,{className:"h-8 w-8 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-semibold text-blue-900",children:["Instructor ID: ",w.id]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700",children:["User ID: ",w.user_id]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700",children:["Created: ",new Date(w.created_at).toLocaleDateString()]})]})]})})}),(0,r.jsxs)("form",{onSubmit:R,className:"space-y-6",children:[(0,r.jsxs)(j.Zp,{children:[(0,r.jsxs)(j.aR,{children:[(0,r.jsx)(j.ZB,{children:"Basic Information"}),(0,r.jsx)(j.BT,{children:"Update the instructor's personal and contact information"})]}),(0,r.jsxs)(j.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(f.J,{htmlFor:"name",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 inline mr-1"}),"Full Name *"]}),(0,r.jsx)(p.p,{id:"name",name:"name",placeholder:"Enter full name",value:T.name,onChange:B,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(f.J,{htmlFor:"email",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 inline mr-1"}),"Email Address *"]}),(0,r.jsx)(p.p,{id:"email",name:"email",type:"email",placeholder:"Enter email address",value:T.email,onChange:B,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(f.J,{htmlFor:"phone",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),(0,r.jsx)(p.p,{id:"phone",name:"phone",placeholder:"Enter phone number",value:T.phone,onChange:B})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(f.J,{htmlFor:"avatar",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 inline mr-1"}),"Avatar URL"]}),(0,r.jsx)(p.p,{id:"avatar",name:"avatar",placeholder:"Enter avatar image URL",value:T.avatar,onChange:B})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(f.J,{htmlFor:"summary",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 inline mr-1"}),"Professional Summary"]}),(0,r.jsx)(p.p,{id:"summary",name:"summary",placeholder:"Brief professional summary",value:T.summary,onChange:B})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(f.J,{htmlFor:"description",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 inline mr-1"}),"Detailed Biography"]}),(0,r.jsx)(v.T,{id:"description",name:"description",placeholder:"Enter detailed biography and qualifications",rows:5,value:T.description,onChange:B})]})]})]}),T.avatar&&(0,r.jsxs)(j.Zp,{children:[(0,r.jsx)(j.aR,{children:(0,r.jsx)(j.ZB,{children:"Avatar Preview"})}),(0,r.jsx)(j.Wu,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("img",{src:T.avatar||"/placeholder.svg",alt:"Avatar preview",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200",onError:e=>{e.currentTarget.style.display="none"}}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"This is how the avatar will appear in the system"})]})})]})]})]})}},52610:(e,a,s)=>{Promise.resolve().then(s.bind(s,27760))},95470:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(4168).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[3438,5616,1652,5022,5575,7358],()=>a(52610)),_N_E=e.O()}]);