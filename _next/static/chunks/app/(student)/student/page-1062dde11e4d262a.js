(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7579],{2708:(e,s,t)=>{"use strict";t.d(s,{$:()=>i,r:()=>l});var r=t(2432),a=t(80364),n=t(89932),o=t(46992),c=t(84963);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,s)=>{let{className:t,variant:a,size:o,asChild:i=!1,...d}=e,u=i?n.DX:"button";return(0,r.jsx)(u,{className:(0,c.cn)(l({variant:a,size:o,className:t})),ref:s,...d})});i.displayName="Button"},7960:(e,s,t)=>{"use strict";t.d(s,{Tabs:()=>c,TabsList:()=>l,TabsTrigger:()=>i,a:()=>d});var r=t(2432),a=t(80364),n=t(47419),o=t(84963);let c=n.bL,l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.B8,{ref:s,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});l.displayName=n.B8.displayName;let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.l9,{ref:s,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});i.displayName=n.l9.displayName;let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.UC,{ref:s,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});d.displayName=n.UC.displayName},25021:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(2432),a=t(80364),n=t(39262),o=t(77382),c=t(2708),l=t(7960),i=t(82811),d=t(38452),u=t(32448),g=t(77709),m=t(32317),h=t.n(m),p=t(69556),f=t(37800),y=t(56861);async function x(){console.log("[notifications][query]",{action:"getNotifications"});try{let e=[{id:"1",title:"New material available",message:"New study materials for Super Memory course have been uploaded.",date:"2025-05-12T09:30:00",read:!1,type:"material",color:"bg-green-100",iconColor:"text-green-600"},{id:"2",title:"Session rescheduled",message:"Your Mind Mapping session on May 16 has been rescheduled to May 17.",date:"2025-05-11T14:20:00",read:!0,type:"schedule",color:"bg-yellow-100",iconColor:"text-yellow-600"},{id:"3",title:"Assignment feedback",message:"Your instructor has provided feedback on your latest assignment.",date:"2025-05-10T11:45:00",read:!1,type:"feedback",color:"bg-purple-100",iconColor:"text-purple-600"},{id:"4",title:"Course completion",message:"Congratulations! You have completed the Speed Reading course.",date:"2025-05-09T16:15:00",read:!0,type:"general",color:"bg-blue-100",iconColor:"text-blue-600"},{id:"5",title:"Payment confirmation",message:"Your payment for Mind Mapping course has been processed successfully.",date:"2025-05-08T10:30:00",read:!0,type:"general",color:"bg-green-100",iconColor:"text-green-600"}];return console.log("[notifications][query]",{action:"getNotifications",count:e.length,unread:e.filter(e=>!e.read).length}),e}catch(e){throw console.error("[notifications][query] Error:",e),Error("Failed to fetch notifications")}}var b=t(15616);function v(){let e=(0,n.useRouter)(),[s,t]=(0,a.useState)(!1),[m,v]=(0,a.useState)(null),[N,j]=(0,a.useState)([]),[w,C]=(0,a.useState)(!1),[A,k]=(0,a.useState)(null),[S,P]=(0,a.useState)([]),[E,_]=(0,a.useState)(!1),[T,F]=(0,a.useState)(null),[I,B]=(0,a.useState)([]),[D,O]=(0,a.useState)(!1),[R,U]=(0,a.useState)(null),[M,L]=(0,a.useState)([]),[V,Z]=(0,a.useState)([]),[J,W]=(0,a.useState)([]),[$,K]=(0,a.useState)(!1),[Y,z]=(0,a.useState)(null);(0,a.useEffect)(()=>{t(!0);let s=localStorage.getItem("login_info");if(!s){e.push("/login");return}let r=JSON.parse(s);if(!r.logged_in_status||!r.roles.includes("student")){e.push("/login");return}v(r)},[e]),(0,a.useEffect)(()=>{(async function(){try{C(!0),k(null);let e=await (0,p.Ts)();j(e)}catch(e){console.error("Error fetching courses:",e),k("Failed to load courses. Please try again later.")}finally{C(!1)}})()},[]),(0,a.useEffect)(()=>{(async function(){try{_(!0),F(null);let e=await (0,p.iw)();P(e)}catch(e){console.error("Error fetching sessions:",e),F("Failed to load sessions. Please try again later.")}finally{_(!1)}})()},[]),(0,a.useEffect)(()=>{async function e(){try{O(!0),U(null);let[e,s,t]=await Promise.all([(0,p.VT)(),(0,f.NJ)(),(0,y.Xi)()]);B(e),L(s),Z(t)}catch(e){console.error("Error fetching orders:",e),U("Failed to load payment history. Please try again later.")}finally{O(!1)}}m&&e()},[m]),(0,a.useEffect)(()=>{(async function(){try{K(!0),z(null);let e=await x();W(e)}catch(e){console.error("Error fetching notifications:",e),z("Failed to load notifications. Please try again later.")}finally{K(!1)}})()},[]);let q=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),G=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),H=e=>{let s=new Date(e),t=new Date,r=Math.round((s.getTime()-t.getTime())/6e4);return r>0&&r<=30},X=J.filter(e=>!e.read).length,Q=e=>{if(e.payments&&e.payments.length>0){let s=e.payments.filter(e=>"paid"===e.status).reduce((e,s)=>e+Number.parseFloat(s.amount_paid),0);return"$".concat(s.toFixed(2))}return"$".concat(Number.parseFloat(e.final_amount).toFixed(2))},ee=e=>e.payment_status.charAt(0).toUpperCase()+e.payment_status.slice(1);return s&&m?(0,r.jsxs)("div",{className:"container py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold font-heading mb-2",children:["Welcome back, ",m.email.split("@")[0],"!"]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Here's an overview of your learning progress."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,r.jsx)(o.Zp,{className:"border-0 bg-secondary-light",children:(0,r.jsx)(o.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Courses in Progress"}),(0,r.jsx)("h3",{className:"text-2xl font-bold",children:N.length})]}),(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-light flex items-center justify-center",children:(0,r.jsx)(i.A,{className:"h-6 w-6 text-secondary"})})]})})}),(0,r.jsx)(o.Zp,{className:"border-0 bg-secondary-light",children:(0,r.jsx)(o.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Upcoming Sessions"}),(0,r.jsx)("h3",{className:"text-2xl font-bold",children:S.length})]}),(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-light flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"h-6 w-6 text-secondary"})})]})})}),(0,r.jsx)(o.Zp,{className:"border-0 bg-secondary-light",children:(0,r.jsx)(o.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Completed Courses"}),(0,r.jsx)("h3",{className:"text-2xl font-bold",children:"0"})]}),(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-light flex items-center justify-center",children:(0,r.jsx)(u.A,{className:"h-6 w-6 text-secondary"})})]})})})]}),(0,r.jsxs)(l.Tabs,{defaultValue:"courses",className:"mb-6",children:[(0,r.jsxs)(l.TabsList,{className:"mb-6",children:[(0,r.jsx)(l.TabsTrigger,{value:"courses",children:"My Courses"}),(0,r.jsx)(l.TabsTrigger,{value:"calendar",children:"Calendar"}),(0,r.jsx)(l.TabsTrigger,{value:"payments",children:"Payments"})]}),(0,r.jsxs)(l.a,{value:"courses",className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold font-heading mb-4",children:"My Courses"}),w&&(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-secondary"})}),A&&(0,r.jsx)("div",{className:"bg-red-50 text-red-700 p-4 rounded-md",children:A}),!w&&!A&&0===N.length&&(0,r.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,r.jsx)(i.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-lg font-medium",children:"No courses enrolled"}),(0,r.jsx)("p",{className:"mt-1 text-gray-500",children:"Browse our catalog to find courses that interest you."}),(0,r.jsx)(c.$,{className:"mt-4",children:"Browse Courses"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N.map(e=>(0,r.jsxs)(o.Zp,{className:"overflow-hidden border-0",children:[(0,r.jsx)("div",{className:"relative h-40",children:(0,r.jsx)(g.default,{src:e.image||"/placeholder.svg",alt:e.title,fill:!0,className:"object-cover"})}),(0,r.jsxs)(o.Wu,{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-2 font-heading",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:e.description}),!1]})]},e.id))}),(0,r.jsxs)("div",{className:"text-center mt-8",children:[!1,(0,r.jsx)("a",{href:"".concat("https://worldmind.nishamengmingli.com","/courses"),className:"text-secondary hover:text-secondary-dark underline",children:"View All Courses"})]})]}),(0,r.jsxs)(l.a,{value:"calendar",className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold font-heading mb-4",children:"Upcoming Sessions"}),(0,r.jsx)(o.Zp,{className:"border-0 bg-secondary-light",children:(0,r.jsxs)(o.Wu,{className:"p-6",children:[E&&(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-secondary"})}),T&&(0,r.jsx)("div",{className:"bg-red-50 text-red-700 p-4 rounded-md",children:T}),!E&&!T&&0===S.length&&(0,r.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,r.jsx)(d.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-lg font-medium",children:"No upcoming sessions"}),(0,r.jsx)("p",{className:"mt-1 text-gray-500",children:"Your upcoming sessions will appear here."})]}),(0,r.jsx)("div",{className:"space-y-6",children:S.map(e=>{var s,t,a,n,o;return(0,r.jsxs)("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-light flex items-center justify-center shrink-0",children:(0,r.jsx)(d.A,{className:"h-6 w-6 text-secondary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold",children:(null===(a=e.package_class)||void 0===a?void 0:null===(t=a.course_package)||void 0===t?void 0:null===(s=t.course)||void 0===s?void 0:s.title)||"Course Title"}),(0,r.jsx)("p",{className:"text-gray-600 font-medium",children:(null===(n=e.package_class)||void 0===n?void 0:n.title)||"Class Title"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[q(e.scheduled_at)," • ",G(e.scheduled_at)]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Instructor: ",(null===(o=e.instructor)||void 0===o?void 0:o.name)||"Instructor Name"]})]}),(0,r.jsx)(c.$,{variant:"outline",className:"ml-auto shrink-0",children:H(e.scheduled_at)&&e.online_meeting_link?"Join Session":"View Details"})]},e.id)})})]})}),(0,r.jsx)("div",{className:"text-center mt-8",children:(0,r.jsx)(h(),{href:"/student/calendar",className:"text-secondary hover:text-secondary-dark underline",children:"View Full Calendar"})})]}),(0,r.jsxs)(l.a,{value:"payments",className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold font-heading mb-4",children:"Payment History"}),(0,r.jsx)(o.Zp,{className:"border-0 bg-secondary-light",children:(0,r.jsxs)(o.Wu,{className:"p-6",children:[D&&(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-secondary"})}),R&&(0,r.jsx)("div",{className:"bg-red-50 text-red-700 p-4 rounded-md",children:R}),!D&&!R&&0===I.length&&(0,r.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,r.jsx)(u.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-lg font-medium",children:"No payment history"}),(0,r.jsx)("p",{className:"mt-1 text-gray-500",children:"Your payment history will appear here."})]}),(0,r.jsx)("div",{className:"space-y-6",children:I.map(e=>{var s;return(0,r.jsxs)("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[(0,r.jsxs)("div",{children:[null===(s=e.items)||void 0===s?void 0:s.map((e,s)=>(0,r.jsx)("div",{className:"mb-2 last:mb-0",dangerouslySetInnerHTML:{__html:(0,b.yE)(e)}},s)),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"font-bold",children:Q(e)}),(0,r.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full ".concat("paid"===e.payment_status?"bg-green-100 text-green-800":"pending"===e.payment_status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:ee(e)})]})]},e.id)})})]})}),(0,r.jsx)("div",{className:"text-center mt-8",children:(0,r.jsx)(h(),{href:"/student/payments",className:"text-secondary hover:text-secondary-dark underline",children:"View All Transactions"})})]})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold font-heading mb-4",children:"Recent Notifications"}),(0,r.jsx)(o.Zp,{className:"border-0 bg-secondary-light",children:(0,r.jsxs)(o.Wu,{className:"p-6",children:[$&&(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-secondary"})}),Y&&(0,r.jsx)("div",{className:"bg-red-50 text-red-700 p-4 rounded-md",children:Y}),(0,r.jsx)("div",{className:"space-y-4",children:J.slice(0,3).map(e=>(0,r.jsx)("div",{className:"p-3 rounded-lg ".concat(e.read?"bg-gray-50":"bg-blue-50 border-l-4 border-blue-500"),children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"rounded-full p-2 mr-3 ".concat(e.color),children:"material"===e.type?(0,r.jsx)(i.A,{className:"h-4 w-4 ".concat(e.iconColor)}):"schedule"===e.type?(0,r.jsx)(d.A,{className:"h-4 w-4 ".concat(e.iconColor)}):(0,r.jsx)(u.A,{className:"h-4 w-4 ".concat(e.iconColor)})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-medium text-secondary text-sm",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.message}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:[new Date(e.date).toLocaleDateString()," •"," ",new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})},e.id))}),X>0&&(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)(h(),{href:"/student/notifications",className:"text-secondary hover:text-secondary-dark underline",children:["View ",X," unread notification",X>1?"s":""]})})]})})]})]}):null}},32448:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4168).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},37800:(e,s,t)=>{"use strict";t.d(s,{Dz:()=>l,NJ:()=>n,SA:()=>c,YG:()=>o});var r=t(15616);let a="courses",n=async()=>{console.log("[api][getCourses] Fetching all courses");try{let e=await (0,r.P)(a);if(!Array.isArray(e))return console.error("[api][getCourses] Expected array but got:",typeof e,e),[];let s=e.map(e=>{if(e.features&&"string"==typeof e.features)try{e.features=JSON.parse(e.features)}catch(s){console.error("[api][getCourses] Error parsing features for course ".concat(e.id,":"),s),e.features=[]}return e.price&&"string"==typeof e.price&&(e.price=Number.parseFloat(e.price)),e});return console.log("[api][getCourses] Fetched and processed courses:",s.length),s}catch(e){return console.error("[api][getCourses] Error fetching courses:",e),[]}},o=async e=>{console.log("[api][getCourseById] Fetching course with id:",e);try{let s=await (0,r.P)("".concat(a,"/").concat(e));if(console.log("[api][getCourseById] Raw course data:",s),s.features&&"string"==typeof s.features)try{let e=JSON.parse(s.features);console.log("[api][getCourseById] Parsed features:",e),Array.isArray(e)?s.features=e:(console.warn("[api][getCourseById] Features is not an array after parsing:",e),s.features=[])}catch(t){console.error("[api][getCourseById] Error parsing features for course ".concat(e,":"),t),s.features=[]}else Array.isArray(s.features)||(console.warn("[api][getCourseById] Features is not a string or array:",typeof s.features,s.features),s.features=[]);if(s.audiences&&"string"==typeof s.audiences)try{let e=JSON.parse(s.audiences);console.log("[api][getCourseById] Parsed audiences:",e),Array.isArray(e)?s.audiences=e:(console.warn("[api][getCourseById] Features is not an array after parsing:",e),s.audiences=[])}catch(t){console.error("[api][getCourseById] Error parsing features for course ".concat(e,":"),t),s.audiences=[]}else Array.isArray(s.audiences)||(console.warn("[api][getCourseById] Audiences is not a string or array:",typeof s.audiences,s.audiences),s.audiences=[]);return s.price&&"string"==typeof s.price&&(s.price=Number.parseFloat(s.price)),console.log("[api][getCourseById] Processed course:",{id:s.id,title:s.title,features:Array.isArray(s.features)?"Array(".concat(s.features.length,")"):typeof s.features}),s}catch(s){throw console.error("[api][getCourseById] Error fetching course with ID ".concat(e,":"),s),s}},c=async e=>{console.log("[api][createCourseData] Creating complete course data:",e);try{let s=await (0,r.Em)("courses/createCourseData","POST",e);return console.log("[api][createCourseData] Created complete course data:",{id:s.id,title:s.title}),s}catch(e){throw console.error("[api][createCourseData] Error creating complete course data:",e),e}},l=async e=>{console.log("[api][updateCourseData] Updating complete course data:",e);try{let s=await (0,r.Em)("courses/updateCourseData","PUT",e);return console.log("[api][updateCourseData] Updated complete course data:",{id:s.id,title:s.title}),s}catch(e){throw console.error("[api][updateCourseData] Error updating complete course data:",e),e}}},38452:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4168).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},39262:(e,s,t)=>{"use strict";var r=t(66834);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},46992:(e,s,t)=>{"use strict";t.d(s,{F:()=>o});var r=t(12126);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=r.$,o=(e,s)=>t=>{var r;if((null==s?void 0:s.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:o,defaultVariants:c}=s,l=Object.keys(o).map(e=>{let s=null==t?void 0:t[e],r=null==c?void 0:c[e];if(null===s)return null;let n=a(s)||a(r);return o[e][n]}),i=t&&Object.entries(t).reduce((e,s)=>{let[t,r]=s;return void 0===r||(e[t]=r),e},{});return n(e,l,null==s?void 0:null===(r=s.compoundVariants)||void 0===r?void 0:r.reduce((e,s)=>{let{class:t,className:r,...a}=s;return Object.entries(a).every(e=>{let[s,t]=e;return Array.isArray(t)?t.includes({...c,...i}[s]):({...c,...i})[s]===t})?[...e,t,r]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},52148:(e,s,t)=>{Promise.resolve().then(t.bind(t,25021))},56861:(e,s,t)=>{"use strict";t.d(s,{$f:()=>n,FJ:()=>a,Xi:()=>o});var r=t(15616);async function a(e){console.log("[api] getPackagesByCourseId called with courseId:",e);try{let s="?"+new URLSearchParams(Object.entries({course_id:e}).reduce((e,s)=>{let[t,r]=s;return null!=r&&(e[t]=String(r)),e},{})).toString(),t="".concat("http://worldmind.api/api","/services/course_packages").concat(s);console.log("[api] Full URL for getPackagesByCourseId:",t);{let e=localStorage.getItem("login_info");if(console.log("[api] Login info exists:",!!e),e){let s=JSON.parse(e);console.log("[api] Token exists:",!!(null==s?void 0:s.token))}}let a=await (0,r.P)("course_packages",{course_id:e});return console.log("[api] getPackagesByCourseId returning:",a),a}catch(e){return console.error("[api] getPackagesByCourseId error:",e),[]}}async function n(e){console.log("[api] getPackageById called with id:",e);try{let s=await (0,r.P)("course_packages/".concat(e));return console.log("[api] getPackageById returning:",s),s}catch(e){return console.error("[api] getPackageById error:",e),null}}async function o(){console.log("[api] getCoursePackages called");try{let e=await (0,r.P)("course_packages");return console.log("[api] getCoursePackages returning:",e),e}catch(e){return console.error("[api] getCoursePackages error:",e),[]}}},69556:(e,s,t)=>{"use strict";t.d(s,{Ts:()=>l,VT:()=>c,Z1:()=>o,iw:()=>i,nm:()=>a,r2:()=>u,tS:()=>g,v2:()=>d,w0:()=>n});var r=t(15616);let a=async()=>{try{console.log("[students] Fetching students...");let e=await (0,r.P)("students");if(console.log("[students] Raw response from query():",e),Array.isArray(e))return console.log("[students] Fetched ".concat(e.length," students")),e;return console.warn("[students] Response is not an array:",e),[]}catch(e){return console.error("[students] Error fetching students:",e),[]}},n=async e=>await (0,r.P)("students/".concat(e),"GET"),o=async()=>{try{console.log("[students] Fetching current student info...");let e=await (0,r.Em)("students_page/getStudent","GET",void 0);if(e&&"OK"===e.status&&e.data)return console.log("[students] Current student fetched:",{id:e.data.id,name:e.data.name}),e.data;throw Error("Invalid response format for current student")}catch(e){throw console.error("[students] Error fetching current student:",e),e}};async function c(){try{console.log("[students] Fetching orders for current student...");let e=await (0,r.Em)("students_page/getOrders");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," orders for current student")),e.data;return console.warn("[students] Invalid response format for student orders"),[]}catch(e){return console.error("[students] Error fetching orders for current student:",e),[]}}async function l(){try{console.log("[students] Fetching subscribed courses...");let e=await (0,r.Em)("students_page/getCourses");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," subscribed courses")),e.data;return console.warn("[students] Invalid response format for subscribed courses"),[]}catch(e){return console.error("[students] Error fetching subscribed courses:",e),[]}}async function i(){try{console.log("[students] Fetching upcoming sessions...");let e=await (0,r.Em)("students_page/getUpcomingSessions");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," upcoming sessions")),[...e.data].sort((e,s)=>new Date(e.scheduled_at).getTime()-new Date(s.scheduled_at).getTime());return console.warn("[students] Invalid response format for upcoming sessions"),[]}catch(e){return console.error("[students] Error fetching upcoming sessions:",e),[]}}async function d(){try{console.log("[students] Fetching all subscribed sessions...");let e=await (0,r.Em)("students_page/getClassSessions");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," subscribed sessions")),e.data;return console.warn("[students] Invalid response format for subscribed sessions"),[]}catch(e){return console.error("[students] Error fetching subscribed sessions:",e),[]}}async function u(){try{console.log("[students] Fetching class attendances...");let e=await (0,r.Em)("students_page/getClassAttendances");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," class attendances")),e.data;return console.warn("[students] Invalid response format for class attendances"),[]}catch(e){return console.error("[students] Error fetching class attendances:",e),[]}}let g={getAll:a,getById:n,getByUserId:async e=>(await (0,r.P)("students/byUserId/".concat(e),"GET")).data,getCurrent:o,create:async e=>(await (0,r.P)("students","POST",e)).data,update:async(e,s)=>(await (0,r.P)("students/".concat(e),"PUT",s)).data,delete:async e=>(await (0,r.P)("students/".concat(e),"DELETE"),!0),getOrders:c,getSubscribedCourses:l,getAllSessions:async function e(){try{console.log("[students] Fetching upcoming sessions...");let e=await (0,r.Em)("students_page/getAllSessions");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," upcoming sessions")),[...e.data].sort((e,s)=>new Date(e.scheduled_at).getTime()-new Date(s.scheduled_at).getTime());return console.warn("[students] Invalid response format for upcoming sessions"),[]}catch(e){return console.error("[students] Error fetching upcoming sessions:",e),[]}},getUpcomingSessions:i,getAllSubscribedSessions:d,getClassAttendances:u}},77382:(e,s,t)=>{"use strict";t.d(s,{BT:()=>i,Wu:()=>d,ZB:()=>l,Zp:()=>o,aR:()=>c,wL:()=>u});var r=t(2432),a=t(80364),n=t(84963);let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});c.displayName="CardHeader";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});i.displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},82811:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4168).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},84963:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(12126),a=t(68441);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[3438,1288,5281,7709,7419,5616,5022,5575,7358],()=>s(52148)),_N_E=e.O()}]);