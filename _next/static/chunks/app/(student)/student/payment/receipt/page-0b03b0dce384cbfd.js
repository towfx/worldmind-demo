(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6829],{17882:(e,t,s)=>{Promise.resolve().then(s.bind(s,67638))},39262:(e,t,s)=>{"use strict";var r=s(66834);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},63844:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},67638:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(2432),a=s(80364),n=s(39262),l=s(63844),i=s(2708),d=s(77382),c=s(32317),o=s.n(c),u=s(72569),m=s(79737),f=s(19838);function x(){(0,n.useRouter)();let e=Number.parseInt((0,n.useSearchParams)().get("id")),[t,s]=(0,a.useState)(null),[c,x]=(0,a.useState)(!0),[h,N]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let t=async()=>{try{x(!0),N(null);let t=(0,m.Qi)();if(!t){N("Student information not found. Please log in again.");return}let r=await (0,u.UY)(e,t.email);if(!r){N("Order not found or you don't have permission to view this receipt.");return}s(r)}catch(e){N("Failed to load receipt. Please try again.")}finally{x(!1)}};e?t():(N("Invalid order ID"),x(!1))},[e]),c)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading receipt..."})]})}):h?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)(d.Zp,{className:"w-full max-w-md",children:(0,r.jsxs)(d.Wu,{className:"p-6 text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Error"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:h}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.$,{asChild:!0,className:"w-full",children:(0,r.jsxs)(o(),{href:"/student/payments",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})}),(0,r.jsx)(i.$,{variant:"outline",onClick:()=>window.location.reload(),className:"w-full",children:"Try Again"})]})]})})}):t?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsx)(i.$,{variant:"ghost",asChild:!0,children:(0,r.jsxs)(o(),{href:"/student/payments",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})}),!1]}),(0,r.jsx)(f.y,{order:t})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)(d.Zp,{className:"w-full max-w-md",children:(0,r.jsxs)(d.Wu,{className:"p-6 text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Receipt Not Found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"The requested receipt could not be found."}),(0,r.jsx)(i.$,{asChild:!0,className:"w-full",children:(0,r.jsxs)(o(),{href:"/student/payments",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})})]})})})}},77382:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>i,wL:()=>u});var r=s(2432),a=s(80364),n=s(84963);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},79737:(e,t,s)=>{"use strict";s.d(t,{Qi:()=>n,_d:()=>a});let r="student_info",a=e=>{try{localStorage.setItem(r,JSON.stringify(e)),console.log("[storage] Student info stored:",{id:e.id,name:e.name})}catch(e){console.error("[storage] Failed to store student info:",e)}},n=()=>{try{let e=localStorage.getItem(r);if(e){let t=JSON.parse(e);return console.log("[storage] Student info retrieved:",{id:t.id,name:t.name}),t}return console.log("[storage] No student info found in localStorage"),null}catch(e){return console.error("[storage] Failed to retrieve student info:",e),null}}}},e=>{var t=t=>e(e.s=t);e.O(0,[3438,1288,5616,1999,5022,5575,7358],()=>t(17882)),_N_E=e.O()}]);