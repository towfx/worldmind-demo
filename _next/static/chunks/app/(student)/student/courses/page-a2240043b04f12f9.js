(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9494],{1099:(e,s,t)=>{"use strict";t.d(s,{H:()=>m});var a=t(2432),n=t(80364),r=t(32317),o=t.n(r),l=t(77382),i=t(2708),d=t(30508),c=t(38452),u=t(4329);function m(e){let{session:s,compact:t=!1}=e,[r,m]=(0,n.useState)(""),[g,f]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=()=>{let e=new Date,t=new Date(s.start_time),a=t.getTime()-e.getTime(),n=new Date(s.end_time);if(f(a<=6e5&&a>0||e>=t&&e<=n),a<=0&&e<=n){m("Ongoing");return}if(a<=0){m("Ended");return}let r=Math.floor(a/864e5),o=Math.floor(a%864e5/36e5),l=Math.floor(a%36e5/6e4);r>0?m("".concat(r,"d ").concat(o,"h ").concat(l,"m")):o>0?m("".concat(o,"h ").concat(l,"m")):m("".concat(l,"m"))};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[s.start_time,s.end_time]);let h=e=>new Date(e).toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"}),x=e=>new Date(e).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return t?(0,a.jsx)(l.Zp,{className:"border-l-4 border-l-secondary",children:(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:s.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[h(s.start_time)," â€¢ ",x(s.start_time)]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-secondary/10 text-secondary",children:r}),g?(0,a.jsxs)("a",{href:s.meeting_link,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-xs font-medium text-secondary hover:text-secondary-dark",children:[(0,a.jsx)(d.A,{className:"h-3 w-3 mr-1"}),"Join Now"]}):(0,a.jsx)(o(),{href:"/student/sessions/detail?id=".concat(s.id),className:"mt-2 text-xs font-medium text-gray-500 hover:text-gray-700",children:"View Details"})]})]})})}):(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Next Class"}),(0,a.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-full bg-secondary/10 text-secondary",children:r})]}),(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:s.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:s.course_title}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:h(s.start_time)})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,a.jsxs)("span",{className:"text-sm",children:[x(s.start_time)," - ",x(s.end_time)]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[g?(0,a.jsx)(i.$,{className:"w-full",asChild:!0,children:(0,a.jsxs)("a",{href:s.meeting_link,target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Join Class"]})}):(0,a.jsxs)(i.$,{className:"w-full",disabled:!0,children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Join Class"]}),(0,a.jsx)(i.$,{variant:"outline",className:"w-full",asChild:!0,children:(0,a.jsx)(o(),{href:"/student/sessions/detail?id=".concat(s.id),children:"View Details"})})]})]})})}},2708:(e,s,t)=>{"use strict";t.d(s,{$:()=>d,r:()=>i});var a=t(2432),n=t(80364),r=t(89932),o=t(46992),l=t(84963);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,s)=>{let{className:t,variant:n,size:o,asChild:d=!1,...c}=e,u=d?r.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:n,size:o,className:t})),ref:s,...c})});d.displayName="Button"},16107:(e,s,t)=>{"use strict";t.d(s,{Kp:()=>l,Xx:()=>r,h5:()=>o,kh:()=>i,mt:()=>n});var a=t(15616);let n=async()=>{try{console.log("[student_page] Fetching student settings...");let e=await (0,a.Qi)("students_page/getSettings","GET");return console.log("[student_page] Settings response:",{status:null==e?void 0:e.status,hasUser:!!(null==e?void 0:e.user),hasStudent:!!(null==e?void 0:e.student)}),e}catch(e){throw console.error("[student_page] Error fetching settings:",e),e}},r=async(e,s)=>{try{console.log("[student_page] Updating student settings...");let t=await (0,a.Qi)("students_page/updateSettings","POST",{user:e,student:s});return console.log("[student_page] Update settings response:",{status:null==t?void 0:t.status}),t}catch(e){throw console.error("[student_page] Error updating settings:",e),e}};async function o(){try{var e;console.log("[student_page] Fetching all class sessions...");let s=await (0,a.Qi)("students_page/getAllClassSessions","GET");if(console.log("[student_page] All class sessions response:",{status:null==s?void 0:s.status,sessionsCount:(null==s?void 0:null===(e=s.class_sessions)||void 0===e?void 0:e.length)||0}),"OK"===s.status&&s.class_sessions)return{status:s.status,class_sessions:s.class_sessions};throw Error("Invalid response format or class sessions not found")}catch(e){throw console.error("[student_page] Error fetching all class sessions:",e),e}}async function l(e){try{var s;console.log("[student_page] Fetching class sessions...");let t=await (0,a.Qi)("students_page/getClassSessionDetail/"+e,"GET");if(console.log("[student_page] class session detail response:",{status:null==t?void 0:t.status,sessionsCount:(null==t?void 0:null===(s=t.class_session)||void 0===s?void 0:s.length)||0}),"OK"===t.status&&t.class_session)return[t.class_session];return[]}catch(e){throw console.error("[student_page] Error fetching class session detail:",e),e}}async function i(){try{console.log("[student_page] Fetching getCoursesProgress...");let e=await (0,a.Qi)("students_page/getCoursesProgress","GET");return console.log("[student_page] getCoursesProgress response:",{status:null==e?void 0:e.status}),e}catch(e){throw console.error("[student_page] Error fetching class session detail:",e),e}}},19794:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(2432),n=t(80364),r=t(83881),o=t(32317),l=t.n(o),i=t(77709),d=t(38452),c=t(40855),u=t(77382),m=t(60217);function g(e){let{course:s}=e,t=s.nextClass?(e=>{if(!e)return null;let s=new Date(e),t=new Date;return t.setHours(0,0,0,0),Math.ceil((s.getTime()-t.getTime())/864e5)})(s.nextClass):null;return(0,a.jsxs)(u.Zp,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,a.jsxs)("div",{className:"relative h-48 w-full",children:[(0,a.jsx)(i.default,{src:s.image_url||"/placeholder.svg?height=192&width=384&query=course",alt:s.title,fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 p-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 text-white text-sm mb-1",children:(0,a.jsxs)("span",{className:"bg-secondary px-2 py-0.5 rounded-full",children:[Math.round(s.progress),"% complete"]})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:s.title})]})]}),(0,a.jsxs)(u.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(m.k,{value:s.progress,className:"h-2"})}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-4",children:s.description.length>120?"".concat(s.description.substring(0,120),"..."):s.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 text-secondary"}),(0,a.jsx)("span",{children:"Next Class:"})]}),(0,a.jsx)("div",{className:"text-sm font-medium mt-1",children:(e=>{if(!e)return"No upcoming classes";let s=new Date(e),t=new Date;t.setHours(0,0,0,0);let a=new Date(t);return(a.setDate(a.getDate()+1),s.toDateString()===t.toDateString())?"Today, ".concat(s.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})):s.toDateString()===a.toDateString()?"Tomorrow, ".concat(s.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})):s.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})(s.nextClass)}),null!==t&&t<=3&&(0,a.jsx)("div",{className:"mt-2 text-xs font-medium text-red-500",children:0===t?"Class today!":1===t?"Class tomorrow!":"Class in ".concat(t," days")})]}),(0,a.jsxs)(u.wL,{className:"p-4 pt-0 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Instructor: ",s.instructor_name]}),(0,a.jsxs)(l(),{href:"/student/courses/detail?id=".concat(s.id),className:"flex items-center text-secondary hover:text-secondary-dark font-medium text-sm",children:["View Course",(0,a.jsx)(c.A,{className:"h-4 w-4 ml-1"})]})]})]})}var f=t(45033),h=t(2708),x=t(30536),p=t(59815);function v(e){let{value:s,onChange:t}=e;return(0,a.jsxs)(f.rI,{children:[(0,a.jsx)(f.ty,{asChild:!0,children:(0,a.jsxs)(h.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(e=>{switch(e){case"next-class":return"Sort by Next Class";case"progress":return"Sort by Progress";default:return"Sort"}})(s),(0,a.jsx)(p.A,{className:"h-4 w-4 ml-1"})]})}),(0,a.jsxs)(f.SQ,{align:"end",children:[(0,a.jsx)(f._2,{onClick:()=>t("next-class"),children:"Sort by Next Class"}),(0,a.jsx)(f._2,{onClick:()=>t("progress"),children:"Sort by Progress"})]})]})}var y=t(1099),w=t(69556),N=t(16107);function b(){let[e,s]=(0,n.useState)(!0),[t,o]=(0,n.useState)([]),[l,i]=(0,n.useState)(null),[d,c]=(0,n.useState)("next-class"),[u,m]=(0,n.useState)();(0,n.useEffect)(()=>{(async()=>{try{s(!0),console.log("[courses] Fetching student courses and sessions...");let[m,g,h]=await Promise.all([(0,w.Ts)(),(0,w.iw)(),(0,N.kh)()]);console.log("[courses] Courses data:",{count:m.length}),console.log("[courses] Sessions data:",{count:g.length});let x=m.map(e=>{var s;let t=g.find(s=>{var t,a,n;return(null===(n=s.package_class)||void 0===n?void 0:null===(a=n.course_package)||void 0===a?void 0:null===(t=a.course)||void 0===t?void 0:t.id)===e.id||s.course_id===e.id}),a=0;try{let s=h.course_package_taken[e.id];a=h.total_sessions[s]?Math.round((h.attended_sessions[s]||0)/h.total_sessions[s]*100):0}catch(e){a=0}return{...e,progress:a,nextClass:(null==t?void 0:t.scheduled_at)||null,nextClassTitle:(null==t?void 0:null===(s=t.package_class)||void 0===s?void 0:s.title)||null,instructor:(null==t?void 0:t.instructor)||null}}),p=f(x,d);if(o(p),g.length>0){var e,t,a,n,r,l,c,u;let s=g[0];i({id:s.id,title:(null===(e=s.package_class)||void 0===e?void 0:e.title)||s.title||"Class Session",start_time:s.scheduled_at,end_time:s.end_time||s.scheduled_at,instructor_name:(null===(t=s.instructor)||void 0===t?void 0:t.name)||"TBA",meeting_link:s.meeting_link,course_id:(null===(r=s.package_class)||void 0===r?void 0:null===(n=r.course_package)||void 0===n?void 0:null===(a=n.course)||void 0===a?void 0:a.id)||s.course_id,course_title:(null===(u=s.package_class)||void 0===u?void 0:null===(c=u.course_package)||void 0===c?void 0:null===(l=c.course)||void 0===l?void 0:l.title)||"Course"})}}catch(e){console.error("[courses] Error fetching courses:",e)}finally{s(!1)}})()},[]),(0,n.useEffect)(()=>{t.length>0&&o(f(t,d))},[d]);let f=(e,s)=>"progress"===s?[...e].sort((e,s)=>s.progress-e.progress):"next-class"===s?[...e].sort((e,s)=>e.nextClass?s.nextClass?new Date(e.nextClass)-new Date(s.nextClass):-1:1):e;return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4 md:mb-0",children:"My Courses"}),(0,a.jsx)(v,{value:d,onChange:e=>{c(e)}})]}),e?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(r.A,{className:"h-8 w-8 animate-spin text-secondary"})}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:t.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(e=>(0,a.jsx)(g,{course:e},e.id))}):(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Courses Enrolled"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Browse our available courses to get started with your learning journey."}),(0,a.jsx)("a",{href:"/courses",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-secondary hover:bg-secondary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary",children:"Browse Courses"})]})}),(0,a.jsxs)("div",{children:[l?(0,a.jsx)(y.H,{session:l}):(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Classes"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Check back later for scheduled sessions."})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("a",{href:"/student/sessions",className:"block w-full text-center py-2 px-4 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"View All Sessions"})})]})]})]})}},45033:(e,s,t)=>{"use strict";t.d(s,{SQ:()=>m,_2:()=>g,mB:()=>f,rI:()=>c,ty:()=>u});var a=t(2432),n=t(80364),r=t(24895),o=t(40855),l=t(33491),i=t(52669),d=t(84963);let c=r.bL,u=r.l9;r.YJ,r.ZL,r.Pb,r.z6,n.forwardRef((e,s)=>{let{className:t,inset:n,children:l,...i}=e;return(0,a.jsxs)(r.ZP,{ref:s,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",t),...i,children:[l,(0,a.jsx)(o.A,{className:"ml-auto"})]})}).displayName=r.ZP.displayName,n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.G5,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}).displayName=r.G5.displayName;let m=n.forwardRef((e,s)=>{let{className:t,sideOffset:n=4,...o}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{ref:s,sideOffset:n,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})})});m.displayName=r.UC.displayName;let g=n.forwardRef((e,s)=>{let{className:t,inset:n,...o}=e;return(0,a.jsx)(r.q7,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",t),...o})});g.displayName=r.q7.displayName,n.forwardRef((e,s)=>{let{className:t,children:n,checked:o,...i}=e;return(0,a.jsxs)(r.H_,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:o,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),n]})}).displayName=r.H_.displayName,n.forwardRef((e,s)=>{let{className:t,children:n,...o}=e;return(0,a.jsxs)(r.hN,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=r.hN.displayName,n.forwardRef((e,s)=>{let{className:t,inset:n,...o}=e;return(0,a.jsx)(r.JU,{ref:s,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",t),...o})}).displayName=r.JU.displayName;let f=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...n})});f.displayName=r.wv.displayName},60217:(e,s,t)=>{"use strict";t.d(s,{k:()=>l});var a=t(2432),n=t(80364),r=t(21596),o=t(84963);let l=n.forwardRef((e,s)=>{let{className:t,value:n,...l}=e;return(0,a.jsx)(r.bL,{ref:s,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,a.jsx)(r.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});l.displayName=r.bL.displayName},69556:(e,s,t)=>{"use strict";t.d(s,{Ts:()=>i,VT:()=>l,Z1:()=>o,iw:()=>d,nm:()=>n,r2:()=>u,tS:()=>m,v2:()=>c,w0:()=>r});var a=t(15616);let n=async()=>{try{console.log("[students] Fetching students...");let e=await (0,a.P)("students");if(console.log("[students] Raw response from query():",e),Array.isArray(e))return console.log("[students] Fetched ".concat(e.length," students")),e;return console.warn("[students] Response is not an array:",e),[]}catch(e){return console.error("[students] Error fetching students:",e),[]}},r=async e=>await (0,a.P)("students/".concat(e),"GET"),o=async()=>{try{console.log("[students] Fetching current student info...");let e=await (0,a.Em)("students_page/getStudent","GET",void 0);if(e&&"OK"===e.status&&e.data)return console.log("[students] Current student fetched:",{id:e.data.id,name:e.data.name}),e.data;throw Error("Invalid response format for current student")}catch(e){throw console.error("[students] Error fetching current student:",e),e}};async function l(){try{console.log("[students] Fetching orders for current student...");let e=await (0,a.Em)("students_page/getOrders");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," orders for current student")),e.data;return console.warn("[students] Invalid response format for student orders"),[]}catch(e){return console.error("[students] Error fetching orders for current student:",e),[]}}async function i(){try{console.log("[students] Fetching subscribed courses...");let e=await (0,a.Em)("students_page/getCourses");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," subscribed courses")),e.data;return console.warn("[students] Invalid response format for subscribed courses"),[]}catch(e){return console.error("[students] Error fetching subscribed courses:",e),[]}}async function d(){try{console.log("[students] Fetching upcoming sessions...");let e=await (0,a.Em)("students_page/getUpcomingSessions");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," upcoming sessions")),[...e.data].sort((e,s)=>new Date(e.scheduled_at).getTime()-new Date(s.scheduled_at).getTime());return console.warn("[students] Invalid response format for upcoming sessions"),[]}catch(e){return console.error("[students] Error fetching upcoming sessions:",e),[]}}async function c(){try{console.log("[students] Fetching all subscribed sessions...");let e=await (0,a.Em)("students_page/getClassSessions");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," subscribed sessions")),e.data;return console.warn("[students] Invalid response format for subscribed sessions"),[]}catch(e){return console.error("[students] Error fetching subscribed sessions:",e),[]}}async function u(){try{console.log("[students] Fetching class attendances...");let e=await (0,a.Em)("students_page/getClassAttendances");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," class attendances")),e.data;return console.warn("[students] Invalid response format for class attendances"),[]}catch(e){return console.error("[students] Error fetching class attendances:",e),[]}}let m={getAll:n,getById:r,getByUserId:async e=>(await (0,a.P)("students/byUserId/".concat(e),"GET")).data,getCurrent:o,create:async e=>(await (0,a.P)("students","POST",e)).data,update:async(e,s)=>(await (0,a.P)("students/".concat(e),"PUT",s)).data,delete:async e=>(await (0,a.P)("students/".concat(e),"DELETE"),!0),getOrders:l,getSubscribedCourses:i,getAllSessions:async function e(){try{console.log("[students] Fetching upcoming sessions...");let e=await (0,a.Em)("students_page/getAllSessions");if(e&&"OK"===e.status&&Array.isArray(e.data))return console.log("[students] Fetched ".concat(e.data.length," upcoming sessions")),[...e.data].sort((e,s)=>new Date(e.scheduled_at).getTime()-new Date(s.scheduled_at).getTime());return console.warn("[students] Invalid response format for upcoming sessions"),[]}catch(e){return console.error("[students] Error fetching upcoming sessions:",e),[]}},getUpcomingSessions:d,getAllSubscribedSessions:c,getClassAttendances:u}},77382:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>o,aR:()=>l,wL:()=>u});var a=t(2432),n=t(80364),r=t(84963);let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});o.displayName="Card";let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...n})});l.displayName="CardHeader";let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});i.displayName="CardTitle";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",t),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...n})});c.displayName="CardContent";let u=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...n})});u.displayName="CardFooter"},84963:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(12126),n=t(68441);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.QP)((0,a.$)(s))}},85278:(e,s,t)=>{Promise.resolve().then(t.bind(t,19794))}},e=>{var s=s=>e(e.s=s);e.O(0,[3438,1288,5281,7709,2092,978,5421,9913,5616,5022,5575,7358],()=>s(85278)),_N_E=e.O()}]);