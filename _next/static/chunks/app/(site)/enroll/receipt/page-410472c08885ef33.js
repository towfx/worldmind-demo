(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[397],{12373:(e,s,a)=>{Promise.resolve().then(a.bind(a,52730))},21886:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var r=a(2432),l=a(92105);function t(){let{t:e}=(0,l.Bd)();return(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4",children:(0,r.jsx)("div",{className:"container mx-auto px-4 text-center text-sm text-gray-500",children:e("login.copyright",{year:new Date().getFullYear()})})})}},33491:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(4168).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},52730:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var r=a(2432),l=a(80364),t=a(39262),n=a(17338),c=a(21886),i=a(72569),d=a(92105),o=a(33491),m=a(2708),x=a(19838);function h(){let{t:e}=(0,d.Bd)(),s=(0,t.useSearchParams)(),a=(0,t.useRouter)(),h=s.get("id"),u=s.get("email"),f=h?Number.parseInt(h):null;console.log("URL Parameters:",{idParam:h,emailParam:u,parsedOrderId:f,allParams:Object.fromEntries([...s.entries()])});let[g,j]=(0,l.useState)(null),[p,N]=(0,l.useState)(!0),[y,b]=(0,l.useState)("");return((0,l.useEffect)(()=>{(async()=>{try{if(console.log("Receipt page data fetching started"),console.log("Checking parameters:",{orderId:f,email:u}),f&&u){console.log("Fetching order data for:",{orderId:f,email:u});let e=await (0,i.UY)(f,u);if(console.log("Order data received:",e),!e){b("Order not found"),N(!1);return}j(e)}else console.log("URL parameters missing - both id and email are required"),b("Receipt information not found. Please provide both order ID and email in the URL (e.g., /enroll/receipt?id=123&email=user@example.com)");N(!1)}catch(e){console.error("Failed to load receipt details:",e),b("Failed to load receipt details: ".concat(e instanceof Error?e.message:String(e))),N(!1)}})()},[f,u]),p)?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading receipt information..."})]})}),(0,r.jsx)(c.A,{})]}):y?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Error"}),(0,r.jsx)("p",{className:"text-gray-600",children:y}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-100 rounded-md text-left max-w-md mx-auto",children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"Debug Information:"}),(0,r.jsxs)("p",{className:"text-sm",children:["URL Parameters: ",JSON.stringify({id:h,email:u})]}),(0,r.jsxs)("p",{className:"text-sm",children:["Parsed Order ID: ",f]})]}),(0,r.jsx)(m.$,{onClick:()=>a.push("/courses"),className:"mt-6",children:"Browse Courses"})]})}),(0,r.jsx)(c.A,{})]}):((null==g?void 0:g.payments)&&0!==g.payments.length&&g.payments.sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime())[0],null==g||g.customer,(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("main",{className:"flex-grow py-12 bg-gray-50",children:(0,r.jsx)("div",{className:"container max-w-4xl",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(o.A,{className:"h-10 w-10 text-green-600"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2 font-heading",children:"Payment Successful!"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Thank you for your enrollment. Your payment has been processed successfully."})]}),(0,r.jsx)(x.y,{order:g}),(0,r.jsxs)("div",{className:"bg-secondary-light rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4 font-heading",children:"Next Steps"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4 bg-yellow-100 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-light flex items-center justify-center shrink-0",children:(0,r.jsx)("span",{className:"font-bold text-secondary",children:"1"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold",children:"Check Your Email"}),(0,r.jsx)("p",{className:"text-gray-600",children:"We've sent a confirmation email with all the details of your enrollment."})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-light flex items-center justify-center shrink-0",children:(0,r.jsx)("span",{className:"font-bold text-secondary",children:"2"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold",children:"Access Your Student Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Log in to your account to access course materials and track your progress."})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-light flex items-center justify-center shrink-0",children:(0,r.jsx)("span",{className:"font-bold text-secondary",children:"3"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold",children:"Mark Your Calendar"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Your first session will begin soon. Make sure to note the date and time."})]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-center mt-8",children:[(0,r.jsx)(m.$,{onClick:()=>a.push("/student"),className:"bg-secondary text-primary hover:bg-secondary-dark",children:"Go to Student Dashboard"}),(0,r.jsx)(m.$,{variant:"outline",onClick:()=>a.push("/courses"),children:"Browse More Courses"})]})]})})}),(0,r.jsx)(c.A,{})]}))}}},e=>{var s=s=>e(e.s=s);e.O(0,[3438,1288,7709,2105,8498,3981,5616,7338,1999,5022,5575,7358],()=>s(12373)),_N_E=e.O()}]);