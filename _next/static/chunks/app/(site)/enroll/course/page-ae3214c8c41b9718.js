(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4306],{33491:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(4168).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},52736:(e,s,a)=>{Promise.resolve().then(a.bind(a,94467))},62121:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(4168).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},64314:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(4168).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},81109:(e,s,a)=>{"use strict";a.d(s,{C1:()=>k,bL:()=>v});var r=a(80364),t=a(61391),l=a(66135),i=a(15498),n=a(26382),c=a(57535),d=a(51371),o=a(75538),m=a(97856),h=a(2432),u="Checkbox",[x,p]=(0,l.A)(u),[j,g]=x(u);function y(e){let{__scopeCheckbox:s,checked:a,children:t,defaultChecked:l,disabled:i,form:c,name:d,onCheckedChange:o,required:m,value:x="on",internal_do_not_use_render:p}=e,[g,y]=(0,n.i)({prop:a,defaultProp:null!=l&&l,onChange:o,caller:u}),[f,N]=r.useState(null),[v,b]=r.useState(null),k=r.useRef(!1),_=!f||!!c||!!f.closest("form"),w={checked:g,disabled:i,setChecked:y,control:f,setControl:N,name:d,form:c,value:x,hasConsumerStoppedPropagationRef:k,required:m,defaultChecked:!S(l)&&l,isFormControl:_,bubbleInput:v,setBubbleInput:b};return(0,h.jsx)(j,{scope:s,...w,children:"function"==typeof p?p(w):t})}var f="CheckboxTrigger",N=r.forwardRef((e,s)=>{let{__scopeCheckbox:a,onKeyDown:l,onClick:n,...c}=e,{control:d,value:o,disabled:u,checked:x,required:p,setControl:j,setChecked:y,hasConsumerStoppedPropagationRef:N,isFormControl:v,bubbleInput:b}=g(f,a),k=(0,t.s)(s,j),_=r.useRef(x);return r.useEffect(()=>{let e=null==d?void 0:d.form;if(e){let s=()=>y(_.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[d,y]),(0,h.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":S(x)?"mixed":x,"aria-required":p,"data-state":C(x),"data-disabled":u?"":void 0,disabled:u,value:o,...c,ref:k,onKeyDown:(0,i.m)(l,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.m)(n,e=>{y(e=>!!S(e)||!e),b&&v&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})});N.displayName=f;var v=r.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:r,checked:t,defaultChecked:l,required:i,disabled:n,value:c,onCheckedChange:d,form:o,...m}=e;return(0,h.jsx)(y,{__scopeCheckbox:a,checked:t,defaultChecked:l,disabled:n,required:i,onCheckedChange:d,name:r,form:o,value:c,internal_do_not_use_render:e=>{let{isFormControl:r}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(N,{...m,ref:s,__scopeCheckbox:a}),r&&(0,h.jsx)(w,{__scopeCheckbox:a})]})}})});v.displayName=u;var b="CheckboxIndicator",k=r.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:r,...t}=e,l=g(b,a);return(0,h.jsx)(o.C,{present:r||S(l.checked)||!0===l.checked,children:(0,h.jsx)(m.sG.span,{"data-state":C(l.checked),"data-disabled":l.disabled?"":void 0,...t,ref:s,style:{pointerEvents:"none",...e.style}})})});k.displayName=b;var _="CheckboxBubbleInput",w=r.forwardRef((e,s)=>{let{__scopeCheckbox:a,...l}=e,{control:i,hasConsumerStoppedPropagationRef:n,checked:o,defaultChecked:u,required:x,disabled:p,name:j,value:y,form:f,bubbleInput:N,setBubbleInput:v}=g(_,a),b=(0,t.s)(s,v),k=(0,c.Z)(o),w=(0,d.X)(i);r.useEffect(()=>{if(!N)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!n.current;if(k!==o&&e){let a=new Event("click",{bubbles:s});N.indeterminate=S(o),e.call(N,!S(o)&&o),N.dispatchEvent(a)}},[N,k,o,n]);let C=r.useRef(!S(o)&&o);return(0,h.jsx)(m.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=u?u:C.current,required:x,disabled:p,name:j,value:y,form:f,...l,tabIndex:-1,ref:b,style:{...l.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function C(e){return S(e)?"indeterminate":e?"checked":"unchecked"}w.displayName=_},87759:(e,s,a)=>{"use strict";a.d(s,{S:()=>c});var r=a(2432),t=a(80364),l=a(81109),i=a(33491),n=a(84963);let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.bL,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...t,children:(0,r.jsx)(l.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})})});c.displayName=l.bL.displayName},94467:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>S});var r=a(2432),t=a(80364),l=a(39262),i=a(17338),n=a(21886),c=a(37800),d=a(56861),o=a(54889),m=a(92105),h=a(77709),u=a(64314),x=a(62121),p=a(2708),j=a(77382),g=a(82196),y=a(22438),f=a(87304),N=a(87759),v=a(41969),b=a(7886),k=a(3248),_=a(72569),w=a(15616);function S(){var e;let{t:s}=(0,m.Bd)(),a=(0,l.useParams)(),S=(0,l.useSearchParams)(),C=(0,l.useRouter)(),A=Number.parseInt(a.id),F=S.get("package")?Number.parseInt(S.get("package")):null,[T,E]=(0,t.useState)(null),[R,P]=(0,t.useState)([]),[I,M]=(0,t.useState)(null),[L,O]=(0,t.useState)([]),[Z,q]=(0,t.useState)([]),[D,B]=(0,t.useState)(!1),[J,G]=(0,t.useState)({name:"",email:"",phone:"",address:"",agreeToTerms:!1}),[W,$]=(0,t.useState)({}),[H,Y]=(0,t.useState)(!0),[z,K]=(0,t.useState)(""),[X,U]=(0,t.useState)(0),[V,Q]=(0,t.useState)(0),[ee,es]=(0,t.useState)(0),[ea,er]=(0,t.useState)(0),[et,el]=(0,t.useState)(!1),[ei,en]=(0,t.useState)(null),[ec,ed]=(0,t.useState)(!1),eo=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);(0,t.useEffect)(()=>{!async function(){if((0,k._n)(),isNaN(A)){K("Invalid course ID"),Y(!1);return}try{let e=await (0,c.YG)(A);if(!e){K("Course not found"),Y(!1);return}E(e);try{console.log("Fetching packages for course ID:",A);let e=await (0,d.FJ)(A);console.log("Received package data:",e);let s=Array.isArray(e)?e:e&&e.data&&Array.isArray(e.data)?e.data:[];if(console.log("Processed package array:",s),P(s),F&&s.length>0){let e=s.find(e=>e.id===F);e&&em(e)}}catch(e){console.error("Error fetching packages:",e),P([])}Y(!1)}catch(e){console.error("Error in fetchData:",e),K("Failed to load course details"),Y(!1)}}()},[A,F]);let em=async e=>{M(e);try{console.log("Fetching classes for package ID:",e.id);let s=await (0,o.Ht)(e.id);console.log("Received class data:",s);let a=Array.isArray(s)?s:s&&s.data&&Array.isArray(s.data)?s.data:[];console.log("Processed class array:",a),O(a),q([]),B(!1),ep(e,[])}catch(e){console.error("Error fetching classes:",e),O([])}},eh=async e=>{let s;q(s=Z.includes(e)?Z.filter(s=>s!==e):[...Z,e]),B(s.length===L.length),ep(I,s)},eu=async()=>{let e=!D;if(B(e),e){let e=L.map(e=>e.id);q(e),ep(I,e)}else q([]),ep(I,[])},ex=async e=>{let{name:s,value:a,type:r,checked:t}=e.target;G({...J,[s]:"checkbox"===r?t:a}),W[s]&&$({...W,[s]:""})};(0,t.useEffect)(()=>{let e=setTimeout(()=>{eg()},5e3);return()=>clearTimeout(e)},[J,I,Z]);let ep=(e,s)=>{if(!e)return;let a=Number.parseFloat(e.price)||0;s.length>0&&(a+=s.reduce((e,s)=>{let a=L.find(e=>e.id===s);return e+(a&&Number.parseFloat(a.price)||0)},0)),U(a);let r=Number.parseFloat(e.discount)||0;Q(r),er(a-r)},ej=()=>{let e={};return I||(e.package="Please select a package"),I&&L.length>0&&0===Z.length&&(e.classes="Please select at least one class"),J.name.trim()||(e.name="Name is required"),J.email.trim()?eo(J.email)||(e.email="Please enter a valid email address"):e.email="Email is required",J.phone.trim()||(e.phone="Phone number is required"),J.agreeToTerms||(e.agreeToTerms="You must agree to the terms and conditions"),$(e),0===Object.keys(e).length},eg=async()=>{if(!(T&&I&&Z.length>0&&J.name.trim()&&J.email.trim()&&eo(J.email)&&J.phone.trim())){el(!1);return}ed(!0);try{let e=[{order_id:0,item_type:"course",item_id:T.id,quantity:1,unit_price:T.price||0,total_price:T.price||0},{order_id:0,item_type:"course_package",item_id:I.id,quantity:1,unit_price:I.price,total_price:I.price},...Z.map(e=>{let s=L.find(s=>s.id===e);return{order_id:0,item_type:"course_package_class",item_id:e,quantity:1,unit_price:(null==s?void 0:s.price)||0,total_price:(null==s?void 0:s.price)||0}})],s=await (0,_.ty)({order:{student_id:0,total_amount:X,discount_amount:V,final_amount:ea,status:"pending",payment_status:"pending",id:0},order_items:e,customer_info:J});(null==s?void 0:s.status)==="OK"?(en(s),el(Number.parseFloat(s.order.final_amount)>0),s.order&&(U(Number.parseFloat(s.order.total_amount)||0),Q(Number.parseFloat(s.order.discount_amount)||0),es(Number.parseFloat(s.order.tax_amount)||0),er(Number.parseFloat(s.order.final_amount)||0))):(en(null),el(!1))}catch(e){console.error("Error calculating order:",e),en(null),el(!1)}finally{ed(!1)}},ey=(e,s)=>(null==ei?void 0:ei.order_items)?ei.order_items.find(a=>a.item_type===e&&a.item_id===s):null;if(H)return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(i.A,{}),(0,r.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading enrollment form..."})]})}),(0,r.jsx)(n.A,{})]});if(z)return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(i.A,{}),(0,r.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Error"}),(0,r.jsx)("p",{className:"text-gray-600",children:z}),(0,r.jsx)(p.$,{onClick:()=>C.back(),className:"mt-6",children:"Go Back"})]})}),(0,r.jsx)(n.A,{})]});let ef=Array.isArray(R)?R:[];return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(i.A,{}),(0,r.jsx)("main",{className:"flex-grow py-12 bg-gray-50",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4 font-heading",children:"Enrollment Form"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Complete the form below to enroll in ",null==T?void 0:T.title]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ej()&&(ei?((0,k.yf)(ei),C.push("/enroll/checkout")):K("Order calculation failed. Please try again."))},className:"space-y-8",children:[(0,r.jsxs)(j.Zp,{className:"border-0 shadow-sm",children:[(0,r.jsx)(j.aR,{children:(0,r.jsx)(j.ZB,{children:"Select Package"})}),(0,r.jsxs)(j.Wu,{children:[W.package&&(0,r.jsxs)(b.Fc,{variant:"destructive",className:"mb-4",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),(0,r.jsx)(b.TN,{children:W.package})]}),0===ef.length?(0,r.jsxs)(b.Fc,{className:"mb-4",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)(b.TN,{children:"No packages available for this course."})]}):(0,r.jsx)(g.z,{value:null==I?void 0:null===(e=I.id)||void 0===e?void 0:e.toString(),onValueChange:e=>{let s=ef.find(s=>s.id===Number.parseInt(e));s&&em(s)},children:(0,r.jsx)("div",{className:"space-y-4",children:ef.map(e=>{let s=ey("course_package",e.id),a=null==s?void 0:s.is_enrolled,t=(null==s?void 0:s.is_discount)!==!1;return(0,r.jsx)("div",{className:"border rounded-lg p-4 transition-colors ".concat((null==I?void 0:I.id)===e.id?"border-secondary bg-secondary-light":"border-gray-200 hover:border-gray-300"),children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(g.C,{value:e.id.toString(),id:"package-".concat(e.id),className:"mt-1"}),(0,r.jsxs)("div",{className:"ml-3 flex-grow",children:[(0,r.jsxs)(y.J,{htmlFor:"package-".concat(e.id),className:"text-lg font-bold block mb-1",children:[e.name,a&&(0,r.jsx)("span",{className:"ml-2 text-sm text-green-600",children:"(Already Enrolled)"})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[Number.parseFloat(e.price)>0?(0,r.jsxs)("div",{className:"text-lg font-bold text-secondary ".concat(a?"line-through opacity-60":""),children:["RM ",Number.parseFloat(e.price).toLocaleString()]}):(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Price varies based on selected classes"}),Number.parseFloat(e.discount)>0&&(0,r.jsxs)("div",{className:"bg-primary-light text-secondary text-sm px-2 py-1 rounded ".concat(t?"":"line-through opacity-60"),children:["Save RM ",Number.parseFloat(e.discount).toLocaleString()]})]})]})]})},e.id)})})})]})]}),I&&L.length>0&&(0,r.jsxs)(j.Zp,{className:"border-0 shadow-sm",children:[(0,r.jsx)(j.aR,{children:(0,r.jsx)(j.ZB,{children:"Select Classes"})}),(0,r.jsxs)(j.Wu,{children:[W.classes&&(0,r.jsxs)(b.Fc,{variant:"destructive",className:"mb-4",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),(0,r.jsx)(b.TN,{children:W.classes})]}),(0,r.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,r.jsx)(N.S,{id:"select-all",checked:D,onCheckedChange:eu}),(0,r.jsx)("label",{htmlFor:"select-all",className:"ml-2 font-medium",children:"Select All Classes"})]}),(0,r.jsx)("div",{className:"space-y-3",children:L.map(e=>{let s=ey("course_package_class",e.id),a=null==s?void 0:s.is_enrolled;return(0,r.jsx)("div",{className:"border rounded-lg p-4 transition-colors ".concat(Z.includes(e.id)?"border-secondary bg-secondary-light":"border-gray-200 hover:border-gray-300"),children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(N.S,{id:"class-".concat(e.id),checked:Z.includes(e.id),onCheckedChange:()=>eh(e.id),className:"mt-1"}),(0,r.jsxs)("div",{className:"ml-3 flex-grow",children:[(0,r.jsxs)("label",{htmlFor:"class-".concat(e.id),className:"text-lg font-bold block mb-1",children:[e.name,a&&(0,r.jsx)("span",{className:"ml-2 text-sm text-green-600",children:"(Already Enrolled)"})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:e.description}),(0,r.jsxs)("div",{className:"text-lg font-bold text-secondary ".concat(a?"line-through opacity-60":""),children:["RM ",Number.parseFloat(e.price).toLocaleString()]})]})]})},e.id)})})]})]}),(0,r.jsxs)(j.Zp,{className:"border-0 shadow-sm",children:[(0,r.jsx)(j.aR,{children:(0,r.jsx)(j.ZB,{children:"Personal Information"})}),(0,r.jsxs)(j.Wu,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y.J,{htmlFor:"name",children:"Full Name"}),(0,r.jsx)(f.p,{id:"name",name:"name",value:J.name,onChange:ex,className:W.name?"border-red-500":""}),W.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:W.name})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y.J,{htmlFor:"email",children:"Email Address"}),(0,r.jsx)(f.p,{id:"email",name:"email",type:"email",value:J.email,onChange:ex,className:W.email?"border-red-500":""}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Use your login email for us to identify previous purchase."}),W.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:W.email})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y.J,{htmlFor:"phone",children:"Phone Number"}),(0,r.jsx)(f.p,{id:"phone",name:"phone",value:J.phone,onChange:ex,className:W.phone?"border-red-500":""}),W.phone&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:W.phone})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y.J,{htmlFor:"address",children:"Address (Optional)"}),(0,r.jsx)(f.p,{id:"address",name:"address",value:J.address,onChange:ex})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(N.S,{id:"terms",name:"agreeToTerms",checked:J.agreeToTerms,onCheckedChange:e=>G({...J,agreeToTerms:e}),className:W.agreeToTerms?"border-red-500":""}),(0,r.jsxs)("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",(0,r.jsx)("a",{href:"/terms",className:"text-secondary hover:underline",children:"Terms and Conditions"})," ","and"," ",(0,r.jsx)("a",{href:"/privacy",className:"text-secondary hover:underline",children:"Privacy Policy"})]})]}),W.agreeToTerms&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:W.agreeToTerms})]}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,r.jsx)(p.$,{type:"button",variant:"ghost",size:"sm",onClick:eg,className:"text-gray-500 hover:text-gray-700",children:"Recalculate Order"})})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(p.$,{type:"submit",className:"bg-secondary text-primary hover:bg-secondary-dark",disabled:!et,children:"Proceed to Checkout"})})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"sticky top-6",children:[(0,r.jsxs)(j.Zp,{className:"border-0 shadow-sm",children:[(0,r.jsx)(j.aR,{children:(0,r.jsx)(j.ZB,{children:"Order Summary"})}),(0,r.jsx)(j.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"relative w-20 h-20 rounded-md overflow-hidden shrink-0",children:(0,r.jsx)(h.default,{src:(null==T?void 0:T.image)||"/placeholder.svg",alt:(null==T?void 0:T.title)||"Course",fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold",children:null==T?void 0:T.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:null==T?void 0:T.description})]})]}),(0,r.jsx)(v.Separator,{}),I?(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold mb-2",children:"Selected Package"}),(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("p",{className:"text-gray-600",children:I.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:I.description})]}),(()=>{let e=ey("course_package",I.id);return(null==e?void 0:e.is_enrolled)?(0,r.jsx)("span",{className:"text-sm text-green-600 font-medium ml-2",children:"Enrolled"}):null})()]}),Number.parseFloat(I.price)>0&&(0,r.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,r.jsx)("span",{children:"Package Price"}),(()=>{let e=ey("course_package",I.id),s=null==e?void 0:e.is_enrolled;return(0,r.jsxs)("span",{className:s?"line-through opacity-60":"",children:["RM ",(0,w.vv)(I.price)]})})()]})]}):(0,r.jsx)("div",{className:"text-gray-500 italic",children:"No package selected"}),I&&L.length>0&&Z.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold mb-2",children:"Selected Classes"}),(0,r.jsx)("ul",{className:"space-y-2",children:Z.map(e=>{let s=L.find(s=>s.id===e);if(!s)return null;let a=ey("course_package_class",e),t=null==a?void 0:a.is_enrolled;return(0,r.jsxs)("li",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:s.title}),t&&(0,r.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Enrolled"})]}),(0,r.jsxs)("span",{className:t?"line-through opacity-60":"",children:["RM ",(0,w.vv)(s.price)]})]},e)})})]}),(0,r.jsx)(v.Separator,{}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Subtotal"}),(0,r.jsxs)("span",{children:["RM ",(0,w.vv)(X)]})]}),V>0&&(0,r.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,r.jsx)("span",{children:"Discount"}),(()=>{let e=I?ey("course_package",I.id):null,s=(null==e?void 0:e.is_discount)!==!1;return(0,r.jsxs)("span",{className:s?"":"line-through opacity-60",children:["- RM ",(0,w.vv)(V)]})})()]}),ee>0&&(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,r.jsx)("span",{children:"Tax"}),(0,r.jsxs)("span",{children:["RM ",(0,w.vv)(ee)]})]}),(0,r.jsxs)("div",{className:"flex justify-between font-bold text-lg pt-2",children:[(0,r.jsx)("span",{children:"Total"}),ec?(0,r.jsx)("span",{className:"text-sm text-gray-500 animate-pulse",children:"Calculating..."}):(0,r.jsxs)("span",{children:["RM ",(0,w.vv)(ea)]})]})]}),(0,r.jsxs)(b.Fc,{className:"bg-secondary-light border-secondary",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 text-secondary"}),(0,r.jsx)(b.TN,{className:"text-sm text-gray-600",children:"You will be able to review your order before making payment on the next page."})]})]})})]}),(0,r.jsx)(j.Zp,{className:"border-0 shadow-sm mt-6 bg-primary-light",children:(0,r.jsxs)(j.Wu,{className:"p-6",children:[(0,r.jsx)("h3",{className:"font-bold mb-2",children:"Need Help?"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"If you have any questions about enrollment, please contact our support team."}),(0,r.jsx)(p.$,{variant:"outline",className:"w-full border-secondary text-secondary",children:"Contact Support"})]})})]})})]})]})}),(0,r.jsx)(n.A,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[3438,1288,5281,7709,2105,8498,3981,2540,5616,7338,7035,5022,5575,7358],()=>s(52736)),_N_E=e.O()}]);