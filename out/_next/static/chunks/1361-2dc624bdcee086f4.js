"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1361],{2708:(e,t,r)=>{r.d(t,{$:()=>l,r:()=>i});var a=r(2432),s=r(80364),d=r(89932),n=r(46992),o=r(84963);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:l=!1,...c}=e,u=l?d.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(i({variant:s,size:n,className:r})),ref:t,...c})});l.displayName="Button"},41151:(e,t,r)=>{r.d(t,{Eo:()=>d,Rk:()=>o,iz:()=>s});let a=[{id:1,user_id:1,role_id:1,created_at:"2023-01-01T08:00:00Z",updated_at:"2023-01-01T08:00:00Z"},{id:2,user_id:2,role_id:2,created_at:"2023-01-10T08:00:00Z",updated_at:"2023-01-10T08:00:00Z"},{id:3,user_id:3,role_id:2,created_at:"2023-01-15T09:15:00Z",updated_at:"2023-01-15T09:15:00Z"},{id:4,user_id:4,role_id:2,created_at:"2023-01-20T10:30:00Z",updated_at:"2023-01-20T10:30:00Z"},{id:5,user_id:5,role_id:2,created_at:"2023-01-25T11:45:00Z",updated_at:"2023-01-25T11:45:00Z"},{id:6,user_id:6,role_id:2,created_at:"2023-01-30T13:00:00Z",updated_at:"2023-01-30T13:00:00Z"},{id:7,user_id:7,role_id:3,created_at:"2024-01-15T08:00:00Z",updated_at:"2024-01-15T08:00:00Z"},{id:8,user_id:8,role_id:3,created_at:"2024-01-20T09:15:00Z",updated_at:"2024-01-20T09:15:00Z"},{id:9,user_id:9,role_id:3,created_at:"2024-01-25T10:30:00Z",updated_at:"2024-01-25T10:30:00Z"}],s=(e,t)=>{let r=a.find(r=>r.user_id===e&&r.role_id===t);if(r)return r;let s={id:a.length+1,user_id:e,role_id:t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return a.push(s),s},d=(e,t)=>{let r=a.findIndex(r=>r.user_id===e&&r.role_id===t);if(-1!==r){let e=a[r];return a.splice(r,1),e}return null},n=[{id:1,name:"Admin"},{id:2,name:"Instructor"},{id:3,name:"Student"}],o=e=>{let t=a.filter(t=>t.user_id===e).map(e=>e.role_id);return n.filter(e=>t.includes(e.id))}},45092:(e,t,r)=>{r.d(t,{bq:()=>f,eb:()=>_,gC:()=>p,l6:()=>c,yv:()=>u});var a=r(2432),s=r(80364),d=r(45906),n=r(59815),o=r(29086),i=r(33491),l=r(84963);let c=d.bL;d.YJ;let u=d.WT,f=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(d.l9,{ref:t,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[s,(0,a.jsx)(d.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=d.l9.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.PP,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})});m.displayName=d.PP.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.wn,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});g.displayName=d.wn.displayName;let p=s.forwardRef((e,t)=>{let{className:r,children:s,position:n="popper",...o}=e;return(0,a.jsx)(d.ZL,{children:(0,a.jsxs)(d.UC,{ref:t,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...o,children:[(0,a.jsx)(m,{}),(0,a.jsx)(d.LM,{className:(0,l.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(g,{})]})})});p.displayName=d.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.JU,{ref:t,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=d.JU.displayName;let _=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(d.q7,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(d.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),(0,a.jsx)(d.p4,{children:s})]})});_.displayName=d.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.wv,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=d.wv.displayName},57834:(e,t,r)=>{r.d(t,{HW:()=>u,M3:()=>c,TK:()=>i,iD:()=>l,kg:()=>o,kl:()=>d,lo:()=>n,ri:()=>f});var a=r(15616),s=r(9266);let d=async e=>(0,a.P)("users/".concat(e)),n=async e=>(0,a.P)("users",e),o=async e=>(0,a.vt)("users",e),i=async(e,t)=>(0,a.yo)("users",e,t),l=async(e,t)=>{if(console.log("[AUTH] Attempting login for:",e),"false"===s.env.NEXT_PUBLIC_USE_REMOTE_API)return console.log("[AUTH] Using mock login (remote API disabled)"),{success:!0,data:{token:"mock-token-".concat(Date.now()),name:"Mock User",email:e,user_id:"mock-user-123",roles:e.includes("admin")?["admin"]:["student"],logged_in_status:!0,loggedin_at:new Date().toISOString()}};try{let r=await (0,a.Qi)("auth/login","POST",{email:e,password:t});if(!r.success)throw Error(r.message||"Login failed. Please check your credentials.");console.log("[AUTH] Login successful:",r.data.name);let s={token:r.data.token,name:r.data.name,email:r.data.email,user_id:r.data.user_id,roles:r.data.roles,logged_in_status:r.data.logged_in_status,loggedin_at:r.data.loggedin_at};return localStorage.setItem("login_info",JSON.stringify(s)),{success:!0,data:s}}catch(e){if(console.error("[AUTH] Login failed:",e),"TypeError"!==e.name||"Failed to fetch"!==e.message)return{success:!1,message:e.message||"An error occurred during login. Please try again."};return console.log("[AUTH] Network error detected, falling back to mock login for development"),{success:!1,message:"Network error: Could not connect to the server. Please check your connection and try again."}}},c=()=>{try{let e=localStorage.getItem("login_info");if(!e)return!1;let{logged_in_status:t}=JSON.parse(e);return!!t}catch(e){return console.error("[AUTH] Error checking login status:",e),!1}},u=()=>{try{let e=localStorage.getItem("login_info");if(!e)return null;return JSON.parse(e)}catch(e){return console.error("[AUTH] Error getting current user:",e),null}},f=async()=>{try{await (0,a.Qi)("auth/logout","POST")}catch(e){console.error("[AUTH] Error during logout API call:",e)}finally{localStorage.removeItem("login_info"),localStorage.removeItem("student_info"),console.log("[AUTH] User logged out")}}},60219:(e,t,r)=>{r.d(t,{O0:()=>s});let a=[{id:1,name:"admin",display_name:"Administrator",description:"Full access to all system features",created_at:"2023-01-01T08:00:00Z",updated_at:"2023-01-01T08:00:00Z"},{id:2,name:"instructor",display_name:"Instructor",description:"Access to teaching features and course management",created_at:"2023-01-01T08:00:00Z",updated_at:"2023-01-01T08:00:00Z"},{id:3,name:"student",display_name:"Student",description:"Access to learning features and enrolled courses",created_at:"2023-01-01T08:00:00Z",updated_at:"2023-01-01T08:00:00Z"}],s=()=>a},77382:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>o,wL:()=>u});var a=r(2432),s=r(80364),d=r(84963);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,d.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},84963:(e,t,r)=>{r.d(t,{cn:()=>d});var a=r(12126),s=r(68441);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}}]);