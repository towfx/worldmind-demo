(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4948],{2708:(e,t,s)=>{"use strict";s.d(t,{$:()=>c,r:()=>d});var r=s(2432),a=s(80364),n=s(89932),l=s(46992),i=s(84963);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:c=!1,...o}=e,u=c?n.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(d({variant:a,size:l,className:s})),ref:t,...o})});c.displayName="Button"},4314:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7254:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7960:(e,t,s)=>{"use strict";s.d(t,{Tabs:()=>i,TabsList:()=>d,TabsTrigger:()=>c,a:()=>o});var r=s(2432),a=s(80364),n=s(47419),l=s(84963);let i=n.bL,d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.B8,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});d.displayName=n.B8.displayName;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});c.displayName=n.l9.displayName;let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});o.displayName=n.UC.displayName},16765:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(2432);s(80364);var a=s(46992),n=s(84963);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...a})}},28725:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},36300:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},39262:(e,t,s)=>{"use strict";var r=s(66834);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},40320:(e,t,s)=>{Promise.resolve().then(s.bind(s,81895))},40686:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},41151:(e,t,s)=>{"use strict";s.d(t,{Eo:()=>n,Rk:()=>i,iz:()=>a});let r=[{id:1,user_id:1,role_id:1,created_at:"2023-01-01T08:00:00Z",updated_at:"2023-01-01T08:00:00Z"},{id:2,user_id:2,role_id:2,created_at:"2023-01-10T08:00:00Z",updated_at:"2023-01-10T08:00:00Z"},{id:3,user_id:3,role_id:2,created_at:"2023-01-15T09:15:00Z",updated_at:"2023-01-15T09:15:00Z"},{id:4,user_id:4,role_id:2,created_at:"2023-01-20T10:30:00Z",updated_at:"2023-01-20T10:30:00Z"},{id:5,user_id:5,role_id:2,created_at:"2023-01-25T11:45:00Z",updated_at:"2023-01-25T11:45:00Z"},{id:6,user_id:6,role_id:2,created_at:"2023-01-30T13:00:00Z",updated_at:"2023-01-30T13:00:00Z"},{id:7,user_id:7,role_id:3,created_at:"2024-01-15T08:00:00Z",updated_at:"2024-01-15T08:00:00Z"},{id:8,user_id:8,role_id:3,created_at:"2024-01-20T09:15:00Z",updated_at:"2024-01-20T09:15:00Z"},{id:9,user_id:9,role_id:3,created_at:"2024-01-25T10:30:00Z",updated_at:"2024-01-25T10:30:00Z"}],a=(e,t)=>{let s=r.find(s=>s.user_id===e&&s.role_id===t);if(s)return s;let a={id:r.length+1,user_id:e,role_id:t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(a),a},n=(e,t)=>{let s=r.findIndex(s=>s.user_id===e&&s.role_id===t);if(-1!==s){let e=r[s];return r.splice(s,1),e}return null},l=[{id:1,name:"Admin"},{id:2,name:"Instructor"},{id:3,name:"Student"}],i=e=>{let t=r.filter(t=>t.user_id===e).map(e=>e.role_id);return l.filter(e=>t.includes(e.id))}},45033:(e,t,s)=>{"use strict";s.d(t,{SQ:()=>m,_2:()=>f,mB:()=>x,rI:()=>o,ty:()=>u});var r=s(2432),a=s(80364),n=s(24895),l=s(40855),i=s(33491),d=s(52669),c=s(84963);let o=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,a.forwardRef((e,t)=>{let{className:s,inset:a,children:i,...d}=e;return(0,r.jsxs)(n.ZP,{ref:t,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...d,children:[i,(0,r.jsx)(l.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.G5,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}).displayName=n.G5.displayName;let m=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...l}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:t,sideOffset:a,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});m.displayName=n.UC.displayName;let f=a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,r.jsx)(n.q7,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",s),...l})});f.displayName=n.q7.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,checked:l,...d}=e;return(0,r.jsxs)(n.H_,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...d,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),a]})}).displayName=n.H_.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(n.hN,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=n.hN.displayName,a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...l})}).displayName=n.JU.displayName;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...a})});x.displayName=n.wv.displayName},46155:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},55009:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},56334:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},57834:(e,t,s)=>{"use strict";s.d(t,{HW:()=>u,M3:()=>o,TK:()=>d,iD:()=>c,kg:()=>i,kl:()=>n,lo:()=>l,ri:()=>m});var r=s(15616),a=s(9266);let n=async e=>(0,r.P)("users/".concat(e)),l=async e=>(0,r.P)("users",e),i=async e=>(0,r.vt)("users",e),d=async(e,t)=>(0,r.yo)("users",e,t),c=async(e,t)=>{if(console.log("[AUTH] Attempting login for:",e),"false"===a.env.NEXT_PUBLIC_USE_REMOTE_API)return console.log("[AUTH] Using mock login (remote API disabled)"),{success:!0,data:{token:"mock-token-".concat(Date.now()),name:"Mock User",email:e,user_id:"mock-user-123",roles:e.includes("admin")?["admin"]:["student"],logged_in_status:!0,loggedin_at:new Date().toISOString()}};try{let s=await (0,r.Qi)("auth/login","POST",{email:e,password:t});if(!s.success)throw Error(s.message||"Login failed. Please check your credentials.");console.log("[AUTH] Login successful:",s.data.name);let a={token:s.data.token,name:s.data.name,email:s.data.email,user_id:s.data.user_id,roles:s.data.roles,logged_in_status:s.data.logged_in_status,loggedin_at:s.data.loggedin_at};return localStorage.setItem("login_info",JSON.stringify(a)),{success:!0,data:a}}catch(e){if(console.error("[AUTH] Login failed:",e),"TypeError"!==e.name||"Failed to fetch"!==e.message)return{success:!1,message:e.message||"An error occurred during login. Please try again."};return console.log("[AUTH] Network error detected, falling back to mock login for development"),{success:!1,message:"Network error: Could not connect to the server. Please check your connection and try again."}}},o=()=>{try{let e=localStorage.getItem("login_info");if(!e)return!1;let{logged_in_status:t}=JSON.parse(e);return!!t}catch(e){return console.error("[AUTH] Error checking login status:",e),!1}},u=()=>{try{let e=localStorage.getItem("login_info");if(!e)return null;return JSON.parse(e)}catch(e){return console.error("[AUTH] Error getting current user:",e),null}},m=async()=>{try{await (0,r.Qi)("auth/logout","POST")}catch(e){console.error("[AUTH] Error during logout API call:",e)}finally{localStorage.removeItem("login_info"),localStorage.removeItem("student_info"),console.log("[AUTH] User logged out")}}},68057:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},69392:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},73388:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},77382:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>i,wL:()=>u});var r=s(2432),a=s(80364),n=s(84963);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},81895:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(2432),a=s(80364),n=s(77709),l=s(39262),i=s(55009),d=s(28725),c=s(46155),o=s(68057),u=s(36300),m=s(69392),f=s(83702),x=s(40686),h=s(86467),g=s(7254),p=s(73388),y=s(4314),v=s(56334),b=s(40855),j=s(77382),N=s(2708),w=s(87304),_=s(16765),k=s(45033),A=s(7960),T=s(32317),C=s.n(T),S=s(57834),U=s(41151);function R(){(0,l.useRouter)();let[e,t]=(0,a.useState)([]),[s,T]=(0,a.useState)(""),[R,E]=(0,a.useState)(1),[P,z]=(0,a.useState)("all"),[Z,I]=(0,a.useState)([]),[L,M]=(0,a.useState)("name"),[D,H]=(0,a.useState)("asc"),[$,O]=(0,a.useState)(!0),[V,B]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{var e;O(!0),B(null),console.log("[users][fetch] Starting to fetch users...");let s=await (0,S.lo)();console.log("[users][fetch] Raw response:",s);let r=[];if(Array.isArray(s))r=s;else if(s&&Array.isArray(s.data))r=s.data;else if(s&&"object"==typeof s)r=Object.values(s).filter(e=>e&&"object"==typeof e&&e.id);else throw console.error("[users][fetch] Unexpected data format:",typeof s),Error("Invalid data format received from users service");if(console.log("[users][fetch] Users array:",r),!Array.isArray(r))throw Error("Users data is not an array");let a=r.map(e=>{try{let t=(0,U.Rk)(e.id)||[];return{...e,roles:t}}catch(t){return console.error("[users][fetch] Error getting roles for user ".concat(e.id,":"),t),{...e,roles:[]}}});t(a),console.log("[users][data]",{count:a.length,first:null===(e=a[0])||void 0===e?void 0:e.id,sample:a[0]})}catch(e){console.error("[users][fetch] Error fetching users:",e),B(e instanceof Error?e.message:"Failed to fetch users"),t([])}finally{O(!1)}})()},[]);let F=e.filter(e=>{let t=""===s||e.name&&e.name.toLowerCase().includes(s.toLowerCase())||e.email&&e.email.toLowerCase().includes(s.toLowerCase());return"all"===P?t:"admin"===P?t&&e.roles&&e.roles.some(e=>"admin"===e.name):"instructor"===P?t&&e.roles&&e.roles.some(e=>"instructor"===e.name):"student"===P?t&&e.roles&&e.roles.some(e=>"student"===e.name):"active"===P?t&&"active"===e.status:"inactive"===P?t&&"inactive"===e.status:t}),q=[...F].sort((e,t)=>{if("name"===L){let s=e.name||"",r=t.name||"";return"asc"===D?s.localeCompare(r):r.localeCompare(s)}if("email"===L){let s=e.email||"",r=t.email||"";return"asc"===D?s.localeCompare(r):r.localeCompare(s)}if("created_at"===L){let s=e.created_at?new Date(e.created_at).getTime():0,r=t.created_at?new Date(t.created_at).getTime():0;return"asc"===D?s-r:r-s}return 0}),J=10*R,Q=J-10,W=q.slice(Q,J),G=Math.ceil(q.length/10),X=e=>{L===e?H("asc"===D?"desc":"asc"):(M(e),H("asc"))},K=e=>{Z.includes(e)?I(Z.filter(t=>t!==e)):I([...Z,e])},Y=e=>{E(e)},ee=e=>{switch(e){case"active":return(0,r.jsx)(_.E,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Active"});case"inactive":return(0,r.jsx)(_.E,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:"Inactive"});case"pending":return(0,r.jsx)(_.E,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"Pending"});default:return(0,r.jsx)(_.E,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Unknown"})}},et=e=>Array.isArray(e)?e.map((e,t)=>{let s="";switch(e.name){case"admin":s="bg-purple-50 text-purple-700 border-purple-200";break;case"instructor":s="bg-blue-50 text-blue-700 border-blue-200";break;case"student":s="bg-primary-light text-secondary border-primary-light";break;default:s="bg-gray-50 text-gray-700 border-gray-200"}return(0,r.jsx)(_.E,{variant:"outline",className:"mr-1 ".concat(s),children:e.display_name||e.name},t)}):null,es=e=>{if(!e)return"N/A";try{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)}catch(e){return"Invalid Date"}};return $?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Loading users..."})]})}):V?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-red-500 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Users"}),(0,r.jsx)("p",{className:"text-sm",children:V})]}),(0,r.jsx)(N.$,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold font-heading mb-2",children:"User Management"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage users and their roles across the platform"})]}),(0,r.jsx)(C(),{href:"/admin/users/add",children:(0,r.jsxs)(N.$,{className:"bg-primary hover:bg-primary-dark",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Add User"]})})]}),(0,r.jsx)(j.Zp,{className:"border-0 bg-white mb-6",children:(0,r.jsx)(j.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,r.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,r.jsx)(w.p,{placeholder:"Search users...",className:"pl-10 bg-gray-50",value:s,onChange:e=>T(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,r.jsxs)(N.$,{variant:"outline",className:"flex-1 md:flex-none",children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Filter"]}),(0,r.jsxs)(N.$,{variant:"outline",className:"flex-1 md:flex-none",children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})})}),(0,r.jsx)(A.Tabs,{defaultValue:"all",className:"mb-6",onValueChange:z,children:(0,r.jsxs)(A.TabsList,{className:"bg-gray-100",children:[(0,r.jsx)(A.TabsTrigger,{value:"all",children:"All Users"}),(0,r.jsx)(A.TabsTrigger,{value:"admin",children:"Administrators"}),(0,r.jsx)(A.TabsTrigger,{value:"instructor",children:"Instructors"}),(0,r.jsx)(A.TabsTrigger,{value:"student",children:"Students"}),(0,r.jsx)(A.TabsTrigger,{value:"active",children:"Active"}),(0,r.jsx)(A.TabsTrigger,{value:"inactive",children:"Inactive"})]})}),Z.length>0&&(0,r.jsxs)("div",{className:"bg-secondary-light rounded-lg p-4 mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-secondary mr-2"}),(0,r.jsxs)("span",{className:"font-medium",children:[Z.length," users selected"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(N.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(0,r.jsxs)(N.$,{variant:"destructive",size:"sm",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),(0,r.jsxs)(j.Zp,{className:"border-0 bg-white",children:[(0,r.jsxs)(j.aR,{className:"pb-0",children:[(0,r.jsx)(j.ZB,{className:"text-xl font-heading",children:"All Users"}),(0,r.jsxs)(j.BT,{children:[F.length," users found"]})]}),(0,r.jsxs)(j.Wu,{className:"p-6",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>{Z.length===q.length?I([]):I(q.map(e=>e.id))},className:"mr-3 focus:outline-none",children:Z.length===q.length&&q.length>0?(0,r.jsx)(u.A,{className:"h-5 w-5 text-secondary"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsxs)("button",{onClick:()=>X("name"),className:"flex items-center focus:outline-none",children:["User",(0,r.jsx)(h.A,{className:"ml-1 h-4 w-4"})]})]})}),(0,r.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:"Roles"}),(0,r.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:"Status"}),(0,r.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:(0,r.jsxs)("button",{onClick:()=>X("created_at"),className:"flex items-center justify-center mx-auto focus:outline-none",children:["Created",(0,r.jsx)(h.A,{className:"ml-1 h-4 w-4"})]})}),(0,r.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:W.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-100 ".concat(t%2==0?"bg-gray-50":"bg-white"),children:[(0,r.jsx)("td",{className:"py-4 px-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>K(e.id),className:"mr-3 focus:outline-none",children:Z.includes(e.id)?(0,r.jsx)(u.A,{className:"h-5 w-5 text-secondary"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"relative h-12 w-12 rounded-md overflow-hidden flex-shrink-0",children:(0,r.jsx)(n.default,{src:e.avatar||"/placeholder.svg?height=48&width=48",alt:e.name||"User",fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:e.name||"Unknown User"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.email||"No email"})]})]})]})}),(0,r.jsx)("td",{className:"text-center py-4 px-4",children:(0,r.jsx)("div",{className:"flex justify-center flex-wrap gap-1",children:et(e.roles)})}),(0,r.jsx)("td",{className:"text-center py-4 px-4",children:ee(e.status)}),(0,r.jsx)("td",{className:"text-center py-4 px-4 text-gray-500",children:es(e.created_at)}),(0,r.jsx)("td",{className:"text-right py-4 px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)(N.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,r.jsx)(C(),{href:"/admin/users/".concat(e.id),children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})}),(0,r.jsx)(N.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,r.jsx)(C(),{href:"/admin/users/".concat(e.id,"/edit"),children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(k.rI,{children:[(0,r.jsx)(k.ty,{asChild:!0,children:(0,r.jsx)(N.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(y.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(k.SQ,{align:"end",children:[(0,r.jsxs)(k._2,{children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(0,r.jsxs)(k._2,{className:"text-red-600",children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},e.id))})]})}),0===F.length&&!$&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-500",children:"No users found matching your search criteria."}),(0,r.jsx)(N.$,{variant:"link",onClick:()=>T(""),className:"mt-2",children:"Clear search"})]}),G>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",Q+1,"-",J>F.length?F.length:J," of"," ",F.length," users"]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(N.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>Y(R-1),disabled:1===R,children:(0,r.jsx)(v.A,{className:"h-4 w-4"})}),Array.from({length:G},(e,t)=>t+1).map(e=>(0,r.jsx)(N.$,{variant:R===e?"default":"outline",size:"sm",className:"h-8 w-8 ".concat(R===e?"bg-primary text-white":""),onClick:()=>Y(e),children:e},e)),(0,r.jsx)(N.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>Y(R+1),disabled:R===G,children:(0,r.jsx)(b.A,{className:"h-4 w-4"})})]})]})]})]})]})}},83702:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},84963:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(12126),a=s(68441);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},86467:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(4168).A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},87304:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var r=s(2432),a=s(80364),n=s(84963);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[3438,1288,5281,7709,7419,2092,978,5421,5616,5022,5575,7358],()=>t(40320)),_N_E=e.O()}]);