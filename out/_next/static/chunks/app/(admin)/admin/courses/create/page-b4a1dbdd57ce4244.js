(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1795],{22436:(e,s,a)=>{Promise.resolve().then(a.bind(a,98574))},98574:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>D});var c=a(2432),i=a(80364),l=a(39262),r=a(33491),t=a(3191),n=a(83702),d=a(55009),o=a(62121),h=a(94314),m=a(63844),x=a(92260),p=a(15117),u=a(2708),g=a(77382),j=a(87304),y=a(22438),v=a(96446),N=a(41969),f=a(45092),b=a(7960),w=a(82890),k=a(37800);let C=e=>{let{currentStep:s,totalSteps:a}=e;return(0,c.jsx)("div",{className:"flex items-center justify-between mb-8",children:Array.from({length:a}).map((e,i)=>(0,c.jsxs)("div",{className:"flex items-center",children:[i>0&&(0,c.jsx)("div",{className:"h-1 w-full ".concat(i<=s?"bg-primary":"bg-gray-200")}),(0,c.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full ".concat(i<s?"bg-primary text-white":i===s?"bg-primary-light text-secondary border-2 border-primary":"bg-gray-100 text-gray-400"),children:i<s?(0,c.jsx)(r.A,{className:"h-5 w-5"}):(0,c.jsx)("span",{children:i+1})}),i<a-1&&(0,c.jsx)("div",{className:"h-1 w-full ".concat(i<s?"bg-primary":"bg-gray-200")})]},i))})},A=e=>{var s;let{formData:a,setFormData:l}=e,[r,h]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,w.DN)();h(e||[])}catch(e){console.error("Failed to fetch instructors:",e),h([])}})()},[]),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)(g.Zp,{className:"border-0 bg-white",children:[(0,c.jsxs)(g.aR,{children:[(0,c.jsx)(g.ZB,{className:"text-xl font-heading",children:"Course Information"}),(0,c.jsx)(g.BT,{children:"Basic details about the course"})]}),(0,c.jsxs)(g.Wu,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"title",children:"Course Title"}),(0,c.jsx)(j.p,{id:"title",placeholder:"e.g., Super Memory Course",value:a.title||"",onChange:e=>l({...a,title:e.target.value})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"instructor",children:"Instructor"}),(0,c.jsxs)(f.l6,{value:(null===(s=a.instructor_id)||void 0===s?void 0:s.toString())||"",onValueChange:e=>l({...a,instructor_id:Number.parseInt(e)}),children:[(0,c.jsx)(f.bq,{children:(0,c.jsx)(f.yv,{placeholder:"Select an instructor"})}),(0,c.jsx)(f.gC,{children:r.map(e=>(0,c.jsx)(f.eb,{value:e.id.toString(),children:e.name},e.id))})]})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"description",children:"Short Description"}),(0,c.jsx)(j.p,{id:"description",placeholder:"Brief description (1-2 sentences)",value:a.description||"",onChange:e=>l({...a,description:e.target.value})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"summary",children:"Detailed Summary"}),(0,c.jsx)(v.T,{id:"summary",placeholder:"Detailed information about the course",rows:5,value:a.summary||"",onChange:e=>l({...a,summary:e.target.value})})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"base_price",children:"Base Price (MYR)"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(t.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),(0,c.jsx)(j.p,{id:"base_price",type:"number",className:"pl-10",placeholder:"0",value:a.price||"",onChange:e=>l({...a,price:Number.parseFloat(e.target.value)||0})})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{children:"Course Features"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a.features||[]).map((e,s)=>(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(j.p,{value:e,onChange:e=>{let c=[...a.features];c[s]=e.target.value,l({...a,features:c})},placeholder:"Feature ".concat(s+1)}),(0,c.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>{let e=a.features.filter((e,a)=>a!==s);l({...a,features:e})},children:(0,c.jsx)(n.A,{className:"h-4 w-4"})})]},s)),(0,c.jsxs)(u.$,{variant:"outline",className:"flex items-center justify-center gap-2",onClick:()=>{let e=[...a.features||[],""];l({...a,features:e})},children:[(0,c.jsx)(d.A,{className:"h-4 w-4"}),"Add Feature"]})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{children:"Target Audiences"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a.audiences||[]).map((e,s)=>(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(j.p,{value:e,onChange:e=>{let c=[...a.audiences];c[s]=e.target.value,l({...a,audiences:c})},placeholder:"Audience ".concat(s+1)}),(0,c.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>{let e=a.audiences.filter((e,a)=>a!==s);l({...a,audiences:e})},children:(0,c.jsx)(n.A,{className:"h-4 w-4"})})]},s)),(0,c.jsxs)(u.$,{variant:"outline",className:"flex items-center justify-center gap-2",onClick:()=>{let e=[...a.audiences||[],""];l({...a,audiences:e})},children:[(0,c.jsx)(d.A,{className:"h-4 w-4"}),"Add Audience"]})]})]})]})]}),(0,c.jsx)(g.Zp,{className:"border-0 bg-gradient-to-br from-secondary-light to-blue-100",children:(0,c.jsx)(g.Wu,{className:"p-6",children:(0,c.jsxs)("div",{className:"flex items-start gap-4",children:[(0,c.jsx)("div",{className:"bg-white bg-opacity-50 rounded-full p-2",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-secondary"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium text-gray-800 mb-1",children:"Course Basics"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"This information will be displayed on the course listing page and detail page. Make sure to provide accurate and compelling information to attract students."})]})]})})})]})},S=e=>{let{formData:s,setFormData:a}=e,i=(e,c,i)=>{let l=[...s.packages||[]];l[e]={...l[e],[c]:i},a({...s,packages:l})},l=e=>{let c=s.packages.filter((s,a)=>a!==e);a({...s,packages:c})};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)(g.Zp,{className:"border-0 bg-white",children:[(0,c.jsxs)(g.aR,{children:[(0,c.jsx)(g.ZB,{className:"text-xl font-heading",children:"Course Packages"}),(0,c.jsx)(g.BT,{children:"Define different delivery options for this course"})]}),(0,c.jsxs)(g.Wu,{className:"space-y-6",children:[(s.packages||[]).map((e,s)=>(0,c.jsxs)(g.Zp,{className:"border border-gray-200 ".concat(s%2==0?"bg-gray-50":"bg-white"),children:[(0,c.jsx)(g.aR,{className:"pb-2",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)(g.ZB,{className:"text-lg",children:["Package ",s+1]}),(0,c.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>l(s),children:(0,c.jsx)(n.A,{className:"h-4 w-4 text-red-500"})})]})}),(0,c.jsxs)(g.Wu,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"package-title-".concat(s),children:"Package Title"}),(0,c.jsx)(j.p,{id:"package-title-".concat(s),placeholder:"e.g., Hybrid Course",value:e.name||"",onChange:e=>i(s,"name",e.target.value)})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"delivery-mode-".concat(s),children:"Delivery Mode"}),(0,c.jsxs)(f.l6,{value:e.delivery_mode||"hybrid",onValueChange:e=>i(s,"delivery_mode",e),children:[(0,c.jsx)(f.bq,{id:"delivery-mode-".concat(s),children:(0,c.jsx)(f.yv,{placeholder:"Select delivery mode"})}),(0,c.jsxs)(f.gC,{children:[(0,c.jsx)(f.eb,{value:"hybrid",children:"Hybrid (Online + Offline)"}),(0,c.jsx)(f.eb,{value:"online",children:"Online Only"}),(0,c.jsx)(f.eb,{value:"offline",children:"Offline Only"})]})]})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"package-desc-".concat(s),children:"Description"}),(0,c.jsx)(v.T,{id:"package-desc-".concat(s),placeholder:"e.g., 2 days offline + 4 online classes (once a week) + 1 day offline",value:e.description||"",onChange:e=>i(s,"description",e.target.value)})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"base-price-".concat(s),children:"Base Price (MYR)"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(t.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),(0,c.jsx)(j.p,{id:"base-price-".concat(s),type:"number",className:"pl-10",placeholder:"0",value:e.price||"",onChange:e=>i(s,"price",Number.parseFloat(e.target.value)||0)})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"early-bird-".concat(s),children:"Early Bird Discount (MYR)"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(t.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),(0,c.jsx)(j.p,{id:"early-bird-".concat(s),type:"number",className:"pl-10",placeholder:"0",value:e.discount||"",onChange:e=>i(s,"discount",Number.parseFloat(e.target.value)||0)})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"discount-desc-".concat(s),children:"Discount Description"}),(0,c.jsx)(j.p,{id:"discount-desc-".concat(s),placeholder:"e.g., RM 500 off for the first 10 participants",value:e.discount_description||"",onChange:e=>i(s,"discount_description",e.target.value)}),(0,c.jsx)("p",{className:"text-xs text-gray-500",children:"Brief description of the discount offer"})]})]})]})]},s)),(0,c.jsxs)(u.$,{variant:"outline",className:"w-full py-6 border-dashed border-2",onClick:()=>{let e=[...s.packages||[],{id:Date.now(),name:"",description:"",price:0,discount:0,discount_description:"",delivery_mode:"hybrid"}];a({...s,packages:e})},children:[(0,c.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Add Package"]})]})]}),(0,c.jsx)(g.Zp,{className:"border-0 bg-gradient-to-br from-primary-light to-primary-medium",children:(0,c.jsx)(g.Wu,{className:"p-6",children:(0,c.jsxs)("div",{className:"flex items-start gap-4",children:[(0,c.jsx)("div",{className:"bg-white bg-opacity-50 rounded-full p-2",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-secondary"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium text-gray-800 mb-1",children:"Package Options"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"Create different package options for your course. Each package can have its own pricing, delivery mode, and early bird discount. Students will be able to choose from these packages during enrollment."})]})]})})})]})},_=e=>{var s,a,l;let{formData:r,setFormData:m}=e,[x,p]=(0,i.useState)(""),N=e=>{let s=r.packages.findIndex(s=>s.id.toString()===e);if(-1===s)return;let a=[...r.packages];a[s].classes||(a[s].classes=[]),a[s].classes.push({id:Date.now(),title:"",description:"",price:0,duration:0,class_type:"online",level_name:"basic",sequence_order:a[s].classes.length+1,agenda:[]}),m({...r,packages:a})},w=(e,s,a,c)=>{let i=r.packages.findIndex(s=>s.id.toString()===e);if(-1===i)return;let l=[...r.packages];l[i].classes[s]={...l[i].classes[s],[a]:c},m({...r,packages:l})},k=(e,s)=>{let a=r.packages.findIndex(s=>s.id.toString()===e);if(-1===a)return;let c=[...r.packages];c[a].classes=c[a].classes.filter((e,a)=>a!==s),c[a].classes.forEach((e,s)=>{e.sequence_order=s+1}),m({...r,packages:c})};return!x&&r.packages&&r.packages.length>0&&p(r.packages[0].id.toString()),null===(s=r.packages)||void 0===s||s.find(e=>e.id.toString()===x),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)(g.Zp,{className:"border-0 bg-white",children:[(0,c.jsxs)(g.aR,{children:[(0,c.jsx)(g.ZB,{className:"text-xl font-heading",children:"Class Structure"}),(0,c.jsx)(g.BT,{children:"Define classes for each package"})]}),(0,c.jsx)(g.Wu,{children:(0,c.jsxs)(b.Tabs,{value:x,onValueChange:p,className:"w-full",children:[(0,c.jsx)(b.TabsList,{className:"mb-6 bg-gray-100 w-full justify-start overflow-x-auto",children:null===(a=r.packages)||void 0===a?void 0:a.map(e=>(0,c.jsx)(b.TabsTrigger,{value:e.id.toString(),className:"flex-shrink-0",children:e.name||"Package ".concat(r.packages.indexOf(e)+1)},e.id))}),null===(l=r.packages)||void 0===l?void 0:l.map(e=>(0,c.jsxs)(b.a,{value:e.id.toString(),className:"space-y-6",children:[(0,c.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[(0,c.jsx)("h3",{className:"font-medium text-gray-800",children:e.name||"Package ".concat(r.packages.indexOf(e)+1)}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(e.classes||[]).map((s,a)=>(0,c.jsx)(g.Zp,{className:"border border-gray-200",children:(0,c.jsx)(g.Wu,{className:"p-4",children:(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"flex items-center justify-center h-8 w-8 bg-gray-100 rounded-full text-gray-500",children:(0,c.jsx)(h.A,{className:"h-4 w-4"})}),(0,c.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Class ",s.sequence_order]})]}),(0,c.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>k(e.id.toString(),a),children:(0,c.jsx)(n.A,{className:"h-4 w-4 text-red-500"})})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"class-title-".concat(e.id,"-").concat(a),children:"Class Title"}),(0,c.jsx)(j.p,{id:"class-title-".concat(e.id,"-").concat(a),placeholder:"e.g., Introduction to Memory Techniques",value:s.title||"",onChange:s=>w(e.id.toString(),a,"title",s.target.value)})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"class-type-".concat(e.id,"-").concat(a),children:"Class Type"}),(0,c.jsxs)(f.l6,{value:s.class_type||"online",onValueChange:s=>w(e.id.toString(),a,"class_type",s),children:[(0,c.jsx)(f.bq,{id:"class-type-".concat(e.id,"-").concat(a),children:(0,c.jsx)(f.yv,{placeholder:"Select class type"})}),(0,c.jsxs)(f.gC,{children:[(0,c.jsx)(f.eb,{value:"online",children:"Online"}),(0,c.jsx)(f.eb,{value:"physical",children:"Physical"})]})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"class-level-".concat(e.id,"-").concat(a),children:"Level"}),(0,c.jsxs)(f.l6,{value:s.level_name||"basic",onValueChange:s=>w(e.id.toString(),a,"level_name",s),children:[(0,c.jsx)(f.bq,{id:"class-level-".concat(e.id,"-").concat(a),children:(0,c.jsx)(f.yv,{placeholder:"Select level"})}),(0,c.jsxs)(f.gC,{children:[(0,c.jsx)(f.eb,{value:"basic",children:"Basic"}),(0,c.jsx)(f.eb,{value:"intermediate",children:"Intermediate"}),(0,c.jsx)(f.eb,{value:"advance",children:"Advance"})]})]})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"class-description-".concat(e.id,"-").concat(a),children:"Description"}),(0,c.jsx)(v.T,{id:"class-description-".concat(e.id,"-").concat(a),placeholder:"Brief description of what will be covered in this class",rows:2,value:s.description||"",onChange:s=>w(e.id.toString(),a,"description",s.target.value)})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"class-price-".concat(e.id,"-").concat(a),children:"Price (MYR)"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(t.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 h-4 w-4"}),(0,c.jsx)(j.p,{id:"class-price-".concat(e.id,"-").concat(a),type:"number",step:"0.01",className:"pl-10",placeholder:"0.00",value:s.price||"",onChange:s=>w(e.id.toString(),a,"price",Number.parseFloat(s.target.value)||0)})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"class-duration-".concat(e.id,"-").concat(a),children:"Duration (minutes)"}),(0,c.jsx)(j.p,{id:"class-duration-".concat(e.id,"-").concat(a),type:"number",placeholder:"90",value:s.duration||"",onChange:s=>w(e.id.toString(),a,"duration",Number.parseInt(s.target.value)||0)})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{htmlFor:"class-order-".concat(e.id,"-").concat(a),children:"Sequence Order"}),(0,c.jsx)(j.p,{id:"class-order-".concat(e.id,"-").concat(a),type:"number",min:"1",value:s.sequence_order||a+1,onChange:s=>w(e.id.toString(),a,"sequence_order",Number.parseInt(s.target.value)||a+1)})]})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(y.J,{children:"Class Agenda"}),(0,c.jsxs)("div",{className:"space-y-2",children:[Array.isArray(s.agenda)?s.agenda.map((i,l)=>(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(j.p,{value:i,onChange:c=>{let i=[...Array.isArray(s.agenda)?s.agenda:[]];i[l]=c.target.value,w(e.id.toString(),a,"agenda",i)},placeholder:"Agenda item ".concat(l+1)}),(0,c.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>{let c=(Array.isArray(s.agenda)?s.agenda:[]).filter((e,s)=>s!==l);w(e.id.toString(),a,"agenda",c)},children:(0,c.jsx)(n.A,{className:"h-4 w-4"})})]},l)):null,(0,c.jsxs)(u.$,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{let c=[...Array.isArray(s.agenda)?s.agenda:[],""];w(e.id.toString(),a,"agenda",c)},children:[(0,c.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add Agenda Item"]})]})]})]})})},s.id)),(0,c.jsxs)(u.$,{variant:"outline",className:"w-full py-4 border-dashed border-2",onClick:()=>N(e.id.toString()),children:[(0,c.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Add Class"]})]})]},e.id))]})})]}),(0,c.jsx)(g.Zp,{className:"border-0 bg-gradient-to-br from-green-50 to-green-100",children:(0,c.jsx)(g.Wu,{className:"p-6",children:(0,c.jsxs)("div",{className:"flex items-start gap-4",children:[(0,c.jsx)("div",{className:"bg-white bg-opacity-50 rounded-full p-2",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-green-600"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium text-gray-800 mb-1",children:"Class Structure"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"Define the individual classes or sessions for each package. You can set different prices for each class. The sequence order determines the order in which classes are displayed to students."})]})]})})})]})},F=e=>{let{formData:s}=e,a=e=>new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR",minimumFractionDigits:0}).format(e);return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)(g.Zp,{className:"border-0 bg-white",children:[(0,c.jsxs)(g.aR,{children:[(0,c.jsx)(g.ZB,{className:"text-xl font-heading",children:"Course Summary"}),(0,c.jsx)(g.BT,{children:"Review your course details before publishing"})]}),(0,c.jsxs)(g.Wu,{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-medium text-gray-800",children:"Basic Information"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Course Title"}),(0,c.jsx)("p",{className:"font-medium",children:s.title||"Not specified"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Base Price"}),(0,c.jsx)("p",{className:"font-medium",children:s.price?a(s.price):"Not specified"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Description"}),(0,c.jsx)("p",{children:s.description||"Not specified"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Summary"}),(0,c.jsx)("p",{children:s.summary||"Not specified"})]}),s.features&&s.features.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Features"}),(0,c.jsx)("ul",{className:"list-disc list-inside",children:s.features.map((e,s)=>(0,c.jsx)("li",{children:e},s))})]}),s.audiences&&s.audiences.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Target Audiences"}),(0,c.jsx)("ul",{className:"list-disc list-inside",children:s.audiences.map((e,s)=>(0,c.jsx)("li",{children:e},s))})]})]}),(0,c.jsx)(N.Separator,{}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-medium text-gray-800",children:"Packages"}),s.packages&&s.packages.length>0?(0,c.jsx)("div",{className:"space-y-6",children:s.packages.map((e,s)=>(0,c.jsxs)(g.Zp,{className:"border border-gray-200 ".concat(s%2==0?"bg-gray-50":"bg-white"),children:[(0,c.jsxs)(g.aR,{className:"pb-2",children:[(0,c.jsx)(g.ZB,{className:"text-lg",children:e.name||"Package ".concat(s+1)}),(0,c.jsx)(g.BT,{children:e.description})]}),(0,c.jsxs)(g.Wu,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Delivery Mode"}),(0,c.jsx)("p",{className:"font-medium capitalize",children:e.delivery_mode})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Base Price"}),(0,c.jsx)("p",{className:"font-medium",children:e.price?a(e.price):"Not specified"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Early Bird Discount"}),(0,c.jsxs)("p",{className:"font-medium",children:[e.discount?a(e.discount):"None",e.discount_description?" (".concat(e.discount_description,")"):""]})]})]}),e.classes&&e.classes.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"Classes"}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,c.jsx)("th",{className:"text-left py-2 px-4 font-medium text-gray-600",children:"#"}),(0,c.jsx)("th",{className:"text-left py-2 px-4 font-medium text-gray-600",children:"Name"}),(0,c.jsx)("th",{className:"text-left py-2 px-4 font-medium text-gray-600",children:"Description"}),(0,c.jsx)("th",{className:"text-right py-2 px-4 font-medium text-gray-600",children:"Price"})]})}),(0,c.jsx)("tbody",{children:e.classes.map((e,s)=>(0,c.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,c.jsx)("td",{className:"py-2 px-4",children:e.sequence_order}),(0,c.jsx)("td",{className:"py-2 px-4",children:e.title||"Not specified"}),(0,c.jsx)("td",{className:"py-2 px-4",children:e.description||"Not specified"}),(0,c.jsx)("td",{className:"py-2 px-4 text-right",children:e.price?a(e.price):"Not specified"})]},s))})]})})]})]})]},s))}):(0,c.jsx)("p",{className:"text-gray-500",children:"No packages defined"})]})]})]}),(0,c.jsx)(g.Zp,{className:"border-0 bg-gradient-to-br from-secondary-light to-blue-100",children:(0,c.jsx)(g.Wu,{className:"p-6",children:(0,c.jsxs)("div",{className:"flex items-start gap-4",children:[(0,c.jsx)("div",{className:"bg-white bg-opacity-50 rounded-full p-2",children:(0,c.jsx)(o.A,{className:"h-5 w-5 text-secondary"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium text-gray-800 mb-1",children:"Ready to Publish?"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"Review all the information carefully before publishing. Once published, students will be able to view and enroll in this course. You can always edit the course later if needed."})]})]})})})]})};function D(){let e=(0,l.useRouter)(),[s,a]=(0,i.useState)(0),[t,n]=(0,i.useState)(0),[d,o]=(0,i.useState)({title:"",description:"",summary:"",price:0,instructor_id:"",features:["","","","",""],audiences:["","","",""],packages:[]}),h=[{title:"Course Basics",component:(0,c.jsx)(A,{formData:d,setFormData:o})},{title:"Package Builder",component:(0,c.jsx)(S,{formData:d,setFormData:o})},{title:"Class Grid Builder",component:(0,c.jsx)(_,{formData:d,setFormData:o})},{title:"Review",component:(0,c.jsx)(F,{formData:d})}],g=async()=>{try{n(!0);let s={course:{title:d.title,description:d.description,summary:d.summary,price:d.price,instructor_id:d.instructor_id,features:d.features,audiences:d.audiences,status:"draft",course_packages:(d.packages||[]).map(e=>({...e,course_package_classes:e.classes||[]}))}};console.log("[course][save] Saving complete course data as draft:",s),await (0,k.SA)(s),alert("Course saved as draft successfully"),e.push("/admin/courses/list")}catch(e){console.error("Error saving course as draft:",e),alert("Failed to save course as draft. Please try again.")}finally{n(!1)}},j=async()=>{try{n(!0);let s={course:{title:d.title,description:d.description,summary:d.summary,price:d.price,instructor_id:d.instructor_id,features:d.features,audiences:d.audiences,status:"published",course_packages:(d.packages||[]).map(e=>({...e,course_package_classes:e.classes||[]}))}};console.log("[course][publish] Publishing complete course data:",s),await (0,k.SA)(s),alert("Course published successfully"),e.push("/admin/courses/list")}catch(e){console.error("Error publishing course:",e),alert("Failed to publish course. Please try again.")}finally{n(!1)}};return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-3xl font-bold font-heading mb-2",children:"Create Course"}),(0,c.jsx)("p",{className:"text-gray-600",children:"Add a new course to the platform"})]}),(0,c.jsxs)(u.$,{variant:"outline",onClick:()=>e.push("/admin/courses/list"),children:[(0,c.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Back to Courses"]})]}),(0,c.jsx)(C,{currentStep:s,totalSteps:h.length}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold font-heading",children:h[s].title}),(0,c.jsxs)("p",{className:"text-gray-600",children:["Step ",s+1," of ",h.length]})]}),h[s].component,(0,c.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,c.jsx)("div",{children:s>0&&(0,c.jsxs)(u.$,{variant:"outline",onClick:()=>{s>0&&(a(s-1),window.scrollTo(0,0))},children:[(0,c.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Previous"]})}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsxs)(u.$,{variant:"outline",onClick:g,disabled:t,children:[(0,c.jsx)(x.A,{className:"mr-2 h-4 w-4"}),t?"Saving...":"Save as Draft"]}),s<h.length-1?(0,c.jsxs)(u.$,{onClick:()=>{s<h.length-1&&(a(s+1),window.scrollTo(0,0))},children:["Next",(0,c.jsx)(p.A,{className:"ml-2 h-4 w-4"})]}):(0,c.jsxs)(u.$,{onClick:j,className:"bg-primary hover:bg-primary-dark",disabled:t,children:[t?"Publishing...":"Publish Course",(0,c.jsx)(r.A,{className:"ml-2 h-4 w-4"})]})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[3438,5281,7419,2092,978,6039,5616,7021,5022,5575,7358],()=>s(22436)),_N_E=e.O()}]);